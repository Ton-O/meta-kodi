{ "name":"KODIPlayer",
   "manufacturer":"Tono",
   "type":"MEDIAPLAYER",
   "version":31,
   "variables": {"MYRESULT":""}, 
   "discover":{
     "welcomeheadertext":"Choose your KODI Instance",
     "welcomedescription":"By Ton-o; powered by meta\n ",
      "command": {"type":"dnssd", "command":"xbmc-jsonrpc", 
         "queryresult":["$.*"]
      }
   },
   "template" : {
      "name": "KODIPROD",
      "type":"MEDIAPLAYER",
      "manufacturer": "Tono",
      "version": 31,
      "variables":{
         "PoweredOn":0,
         "IPV6": "",
         "itemname":"", 
         "itemlabel":"", 
         "itembrowse":"", 
         "itemimage":"",
         "MyKODIIp":"DYNAMIK_INST_START DYNAMIK  JSON.parse(\"$Result\").addresses[0].host DYNAMIK_INST_END",
         "MyKODIPort":"DYNAMIK_INST_START DYNAMIK JSON.parse(\"$Result\").addresses[0].port DYNAMIK_INST_END",
         "MyKODIMAC": "DYNAMIK_INST_START DYNAMIK JSON.parse(\"$Result\").addresses[0].mac DYNAMIK_INST_END",
         "KODIREQ":"",
         "RPCPort":"9090",
         "POWER":"",
         "PlayInfo":"",
         "PlayListPos":0,
         "VideoTitle":"",
         "TVShowTitle": "", 
         "TVShowid": "",
         "TVShowBanner":"",   
         "SeasonName":"",
         "Seasonid":"",
         "EpisodeName":"",
         "Episodeid":"",
         "Episodeimage":"",
         "MovieTitle":"",
         "Movieid":"",
         "MovieBanner":"",
         "MovieSetImage":"",
         "SetTitle":"",
         "Setid": "",
         "nrItems":"", 
         "MySearch":"", 
         "MyFull":"", 
         "File":"", 
         "ReturnMenu":"",
         "ExecVideoMenu":"",
         "JustASongid":"",
         "AlbumTitle":"",
         "Albumid":"",
         "AlbumBanner":"",
         "AlbumHeader":"Album dialog",
         "AlbumList":"",  
         "ArtistAlbumSearch":"", 
         "ArtistName":"",   
         "Artistid":"",   
         "ArtistBanner":"",
         "SongTitle":"",
         "Songid":"",
         "SongBanner":"",
         "Track":"",
         "PlayingType":"",
         "PlayingID":"",
         "PlaylistEntry":"",
         "MyPlaylistFile":"",
         "MyPlaylistTitle":"",
         "MoveOrPlaceSong":"Move song",
         "ItemToMove":"",
         "MsgID":"",
         "FavoTitle":"",
         "FavoType":"",
         "FavoParm":"",
         "FavoPath":"",
         "FavoBanner":"",
         "FavoWindow":"",
         "WindowParameter":"",
         "VideoRootFile":"",   
         "VideoRootFileType":"", 
         "VideoDirectory1":"",
         "VideoDirectory2":"",
         "VideoDirectory3":"",
         "VideoDirectory4":"",
         "VideoDirectory5":"",
         "VideoDirectory6":"",
         "VideoFileType":"", 
         "VideoFile":"",     
         "VideoPlayFile":"",  
         "VideoBanner":"",   
         "Window_ID":"", 
         "CheckWindow_ID":"", 
         "Fullscreen_ID":"12005",
         "isFullscreen":false,
         "OSDscreen_ID":"12901",
         "isOSDscreen":false,
         "IsPlayingTv":false,
         "VideoPlayerHasMenu":false,
         "PlayerID": 0,
         "PlayerID2": 0,
         "MyType":"", 
         "PlayerSeek": "", 
         "MYRESULT": "", 
         "GETRESULT":"", 
         "MyStatus":"Initial",
         "CacheBuilt": 0,
         "CacheResidency": 999,
         "CacheEmpty":1,
         "CURSOR":"",
         "KEYBOARDSEARCH":"",
         "ArtistSearch":"",
         "AlbumSearch":"",
         "ArtistFilter":"",
         "AlbumFilter":"",
         "Filter":"", 
         "Current_title":"",
         "Player_PlaySpeed":"",
         "Player_FinishTime":"",
         "Player_OriginalTitle":"",
         "Player_TVShowTitle":"",
         "Player_ShowPlusTitle":"",
         "Playerinfo":"", 
         "Player_Time":"",
         "Player_Duration":"",
         "StartPlaylist":"",
         "Playlistitem":"",
         "Listindex":"", 
         "websocketMsgs":0,
         "ShowThumbnail":true,
         "SetShutdownCommand":"\"Application.quit\"",
         "SetShutdownmenuCommand":"\"GUI.ActivateWindow\",\"params\":{\"window\": \"shutdownmenu\"}"
      },
      "persistedvariables":{
         "ShowThumbnail":true,
         "ShutdownCommand":"\"GUI.ActivateWindow\",\"params\":{\"window\": \"shutdownmenu\"}",
         "ShutdownMenu":100,
         "ShutdownImmed": "",
         "WatchFilterFull":"",
         "WatchFilterSmall":"", 
         "ShowWatched":""
   },
   "dynamicname": "DYNAMIK_INST_START DYNAMIK  \"KODI_\" + JSON.parse(\"$Result\").addresses[0].host  DYNAMIK_INST_END",
   "dynamicid": "DYNAMIK_INST_START DYNAMIK \"KODI_\" + JSON.parse(\"$Result\").addresses[0].mac DYNAMIK_INST_END",
   "webSocket":{},
   "listeners" : {

      "KodiListener" : 
         {"label":"",
         "type":"webSocket",
            "command":{"connection": "ws://$MyKODIIp:$RPCPort", "message":{"jsonrpc": "2.0", "id": "KodiListener","method":"XBMC.GetInfoLabels","params": {"labels":["Player.PlaySpeed","Player.FinishTime","MusicPlayer.Title","MusicPlayer.Artist","MusicPlayer.Album","MusicPlayer.TrackNumber","VideoPlayer.Title","VideoPlayer.TVShowTitle","VideoPlayer.Season","VideoPlayer.Episode"]}}},
         "queryresult":"$.",
         "pooltime":"10000", "poolduration":"","isHub":false,
         "evalwrite" : [ 
            {"variable" : "MYRESULT",          "value" : "DYNAMIK JSON.stringify(JSON.parse(\"$Result\")[0])"},
            {"variable" : "websocketMsgs",     "value" : "DYNAMIK ($websocketMsgs)+1"},
            {"variable" : "PlayerID",          "value" : "DYNAMIK ( (\"$Result\" != \"\") && (JSON.parse(\"$Result\")[0].method == \"Player.OnStop\") )                                                                                                                      ? 0 : \"$PlayerID\""},
            {"variable" : "PlayerID",          "value" : "DYNAMIK ( (\"$Result\" != \"\") && (JSON.parse(\"$Result\")[0].method != undefined) && (JSON.parse(\"$Result\")[0].method != \"Player.OnStop\") &&(JSON.parse(\"$Result\")[0].method.substr(0,7) == \"Player.\") ) ? JSON.parse(\"$Result\")[0].params.data.player.playerid  : \"$PlayerID\""},
            {"variable" : "PlayingID",         "value" : "DYNAMIK ( (\"$Result\" != \"\") && (JSON.parse(\"$Result\")[0].method != undefined) && (JSON.parse(\"$Result\")[0].method.substr(0,7) == \"Player.\") && (JSON.parse(\"$Result\")[0].id != \"KodiListener\") )     ? JSON.parse(\"$Result\")[0].params.data.item.id:\"$PlayingID\""},
            {"variable" : "PlayingType",       "value" : "DYNAMIK ( (\"$Result\" != \"\") && (JSON.parse(\"$Result\")[0].method != undefined) && (JSON.parse(\"$Result\")[0].method.substr(0,7) == \"Player.\") && (JSON.parse(\"$Result\")[0].id != \"KodiListener\") )     ? JSON.parse(\"$Result\")[0].params.data.item.type:\"$PlayingType\""},          
            {"variable" : "Player_FinishTime", "value" : "DYNAMIK ( (\"$Result\" != \"\") && (JSON.parse(\"$Result\")[0].id == \"KodiListener\") )                                                                                                                           ? JSON.parse(\"$Result\")[0].result[\"Player.FinishTime\"] : \"$Player_FinishTime\""},
            {"variable" : "Player_PlaySpeed",  "value" : "DYNAMIK ( (\"$Result\" != \"\") && (JSON.parse(\"$Result\")[0].id == \"KodiListener\") )                                                                                                                           ? JSON.parse(\"$Result\")[0].result[\"Player.PlaySpeed\"] : \"$Player_PlaySpeed\""},
            {"variable" : "MyStatus",          "value": "DYNAMIK ( \"$Result\" != \"\") && (JSON.parse(\"$Result\")[0].id == \"KodiListener\") ? ( $Player_PlaySpeed != \"0.0\" ?  ( \"$PlayerID\" == \"0\" ? \"Playing audio\": \"Playing video\")  : (\"$PlayerID\" == \"0\" ? \"Paused/stopped audio\": \"Paused/stopped video\")  ) : \"$MyStatus\"  "},
            {"variable" : "AlbumTitle",        "value": "DYNAMIK ( \"$Result\" != \"\") && (JSON.parse(\"$Result\")[0].id == \"KodiListener\") && JSON.parse(\"$Result\")[0].result[\"MusicPlayer.Album\"] !== \"\" ? JSON.parse(\"$Result\")[0].result[\"MusicPlayer.Album\"] :\"$AlbumTitle\""},
            {"variable" : "SongTitle",         "value": "DYNAMIK ( \"$Result\" != \"\") && (JSON.parse(\"$Result\")[0].id == \"KodiListener\") && JSON.parse(\"$Result\")[0].result[\"MusicPlayer.Title\"] !== \"\" ? JSON.parse(\"$Result\")[0].result[\"MusicPlayer.Title\"] :\"$SongTitle\""},
            {"variable" : "ArtistName",        "value": "DYNAMIK ( \"$Result\" != \"\") && (JSON.parse(\"$Result\")[0].id == \"KodiListener\") && JSON.parse(\"$Result\")[0].result[\"MusicPlayer.Artist\"] !== \"\" ? JSON.parse(\"$Result\")[0].result[\"MusicPlayer.Artist\"] :\"$ArtistName\""},
            {"variable" : "Track",             "value": "DYNAMIK ( \"$Result\" != \"\") && (JSON.parse(\"$Result\")[0].id == \"KodiListener\") && JSON.parse(\"$Result\")[0].result[\"MusicPlayer.TrackNumber\"] !== \"\" ? JSON.parse(\"$Result\")[0].result[\"MusicPlayer.TrackNumber\"] :\"$Track\""},
            {"variable" : "VideoTitle",        "value": "DYNAMIK ( \"$Result\" != \"\") && (JSON.parse(\"$Result\")[0].id == \"KodiListener\") && JSON.parse(\"$Result\")[0].result[\"VideoPlayer.Title\"] !== \"\" ? JSON.parse(\"$Result\")[0].result[\"VideoPlayer.Title\"] :\"$VideoTitle\""},
            {"variable" : "TVShowTitle",       "value": "DYNAMIK ( \"$Result\" != \"\") && (JSON.parse(\"$Result\")[0].id == \"KodiListener\") && JSON.parse(\"$Result\")[0].result[\"VideoPlayer.TVShowTitle\"] !== \"\" ? JSON.parse(\"$Result\")[0].result[\"VideoPlayer.TVShowTitle\"] :\"$TVShowTitle\""},
            {"variable" : "SeasonName",        "value": "DYNAMIK ( \"$Result\" != \"\") && (JSON.parse(\"$Result\")[0].id == \"KodiListener\") && JSON.parse(\"$Result\")[0].result[\"VideoPlayer.Season\"] !== \"\" ? JSON.parse(\"$Result\")[0].result[\"VideoPlayer.Season\"] :\"$SeasonName\""},
            {"variable" : "EpisodeName",       "value": "DYNAMIK ( \"$Result\" != \"\") && (JSON.parse(\"$Result\")[0].id == \"KodiListener\") && JSON.parse(\"$Result\")[0].result[\"VideoPlayer.Episode\"] !== \"\" ? JSON.parse(\"$Result\")[0].result[\"VideoPlayer.Episode\"] :\"$EpisodeName\""},
            {"variable" : "Current_title",     "value": "DYNAMIK $PlayerID == 0 ?  \"$AlbumTitle\"  + \" - \" + \"$SongTitle \" + \"$ArtistName \" + \"$Track\" :  \"$TVShowTitle - \" + \"$VideoTitle  (\" + \"S$SeasonName\" + \"E$EpisodeName)\""}
         ],
         "evaldo":[ 
            {"test":true, "then":"__FILLINFO", "or":""},
            {"test":"DYNAMIK ( \"$Result\" != \"\") && (JSON.parse(\"$Result\")[0].method == \"Player.OnResume\"  || JSON.parse(\"$Result\")[0].method == \"Player.OnPlay\" || JSON.parse(\"$Result\")[0].method == \"Player.OnAVStart\" || JSON.parse(\"$Result\")[0].method == \"Player.OnPause\") &&  $PlayerID == 0 ", "then":"__Audioplayer", "or":""},
            {"test":"DYNAMIK ( \"$Result\" != \"\") && (JSON.parse(\"$Result\")[0].method == \"Player.OnResume\"  || JSON.parse(\"$Result\")[0].method == \"Player.OnPlay\" || JSON.parse(\"$Result\")[0].method == \"Player.OnAVStart\" || JSON.parse(\"$Result\")[0].method == \"Player.OnPause\") &&  $PlayerID == 1 ", "then":"__Videoplayer", "or":""},
            {"test":"DYNAMIK ( \"$Result\" != \"\") && JSON.parse(\"$Result\")[0].method == \"Player.OnStop\"", "then":"__SetStopped", "or":""},
            {"test":"DYNAMIK ( \"$Result\" != \"\") && JSON.parse(\"$Result\")[0].method == \"System.OnQuit\"", "then":"POWER OFF", "or":""},
            {"test":"DYNAMIK (\"$websocketMsgs\"==\"1\" && \"$POWER\"!=\"OFF\")", "then":"__StartupMessage", "or":""}
         ]
         }   },

   "switches":{
      "Thumbnails" : {"label":"", "listen":"ShowThumbnail"}
    },  

      "labels": {
         "AlbumTitle": {"label": "AlbumTitle", "listen": "AlbumTitle"},
         "ArtistName": {"listen": "ArtistName"},
         "SongTitle":  {"label": "SongTitle",  "listen": "SongTitle"},
         "Track": {"listen": "Track"},
         "PlayerID": {"label": "PlayerID","listen": "PlayerID"}, 
         "PlayInfo": {"label": "","listen": "PlayInfo"},
         "MyStatus": {"label": "","listen": "MyStatus"},
         "Current_title": {"label": "","listen": "Current_title"},
         "Player_FinishTime": {"label": "Playing FinishTime","listen": "Player_FinishTime"},
         "Player_OriginalTitle": {"label": "Playing OriginalTitle","listen": "Player_OriginalTitle"},
         "Player_Time": {"label": "Playing Time","listen": "Player_Time"},
         "Player_Duration": {"label": "Playing Duration","listen": "Player_Duration"},
         "Playerinfo": {"label": "Playerinfo","listen": "Playerinfo"} 
      },
      "sliders": {
         "ShowWatched":
            {"label":"Show Watched (n->Y)", "unit" : "N/Y", "listen" : "ShowWatched", 
            "evaldo":[{"test":"DYNAMIK $Result>5","then":"__ClearNotWatchedSwitch","or":"__SetNotWatchedSwitch"}]
	         },
         "ShutdownMenu":
            {"label":"Show shutdownmenu(N->Y)", "unit" : "N/Y", "listen" : "ShutdownMenu", 
            "evaldo":[{"test":"DYNAMIK $Result>5","then":"__SetShutdownMenu","or":"__SetShutdownImmed"}]
	         }
      }, 
      "buttons":{
         "__StartupMessage":  
         {"label":"",                                 
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"POWER-ON\",\"method\":\"GUI.ShowNotification\", \"params\":{\"title\": \"NEEO-meta-kodi\",\"message\": \"NEEO-connection active\",\"displaytime\":5000}}}",
            "evalwrite":[
               {"variable":"MyStatus","value":"Connected!"},
               {"variable":"CacheBuilt","value":"0"}
            ],
            "evaldo":[
               {"test":true,"then":"__GetPlayerID", "or":""} ,
               {"test":"DYNAMIK $PlayerID !=-1","then":"__CheckPlaying", "or":""} ,
               {"test":true,"then":"__GetJustASongid", "or":""} 
            ]
         },
         "__RESTART": 
            {"type":"wol", 
            "command":"$MyKODIMAC", "queryresult":"", 
            "evalwrite":[
               {"variable":"POWER","value":"ON"},
               {"variable":"PoweredOn","value":1},
               {"variable":"MyStatus","value":"Connecting to KODI-device..."},
               {"variable":"websocketMsgs","value":0},
               {"variable":"Current_title","value":"Initializing"},
               {"variable":"SetShutdownCommand","value":"\"Application.quit\""}
   
            ],
            "evaldo":[{"test":true,"then":"__INITIALISE", "or":""},
                      {"test":true,"then":"___InitSettings", "or":""},
                      {"test":true,"then":"__GetPlayerID", "or":""},
                      {"test":true,"then":"__GetWindow_ID_HTTP"}
                     ]
         }, 
         "POWER ON": {"type":"static", "command":".", 
            "evalwrite":[
               {"variable":"MyStatus","value":"Connecting to KODI-device..."},
               {"variable":"PoweredOn","value":1},
               {"variable":"websocketMsgs","value":0} 
            ],
            "evaldo":[{"test":true,"then":"__RESTART", "or":""}]
         },
         "__Audioplayer":
         {"label":"",
         "type":"http-rest",
         "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\",\"message\":{\"jsonrpc\":\"2.0\",\"id\":\"GetAudioPlayerInfo\",\"method\":\"XBMC.GetInfoLabels\",\"params\": {\"labels\":[\"MusicPlayer.Title\",\"MusicPlayer.Artist\",\"MusicPlayer.Album\",\"MusicPlayer.TrackNumber\"]}}}",
         "queryresult":"$.",
            "evalwrite":[
               {"variable":"PlayerID","value":0},
               {"variable":"MyStatus","value":"Playing audio"},
               {"variable":"AlbumTitle","value": "DYNAMIK JSON.parse(\"$Result\").result[\"MusicPlayer.Album\"]"},
               {"variable":"SongTitle","value": "DYNAMIK JSON.parse(\"$Result\").result[\"MusicPlayer.Title\"]"},
               {"variable":"ArtistName","value": "DYNAMIK JSON.parse(\"$Result\").result[\"MusicPlayer.Artist\"]"},
               {"variable":"Track","value": "DYNAMIK JSON.parse(\"$Result\").result[\"MusicPlayer.TrackNumber\"]"},
               {"variable":"Current_title","value": "DYNAMIK (\"AlbumTitle\" != \"\" ? \"$AlbumTitle - \":\"\") + \"$SongTitle \" + \"$ArtistName \" + \"$Track\""}
            ],
            "evaldo":[
               {"test":true,"then":"__CheckPlaying"},
               {"test":true,"then":"__Invalidate_Cache"}
            ]
         }, 
            "__Videoplayer":
         {"label":"",
            "params": {"labels":["VideoPlayer.Title","VideoPlayer.TVShowTitle","VideoPlayer.Season","VideoPlayer.Episode"]},
            "type":"http-rest",
            "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\",\"message\":{\"jsonrpc\":\"2.0\",\"id\":\"GetVideoPlayerInfo\",\"method\":\"XBMC.GetInfoLabels\",\"params\": {\"labels\":[\"VideoPlayer.Title\",\"VideoPlayer.TVShowTitle\",\"VideoPlayer.Season\",\"VideoPlayer.Episode\"]}}}",
            "queryresult":"$.",
            "evalwrite":[
               {"variable":"PlayerID","value":1},
               {"variable":"MyStatus","value":"Playing video"},
               {"variable":"VideoTitle","value": "DYNAMIK JSON.parse(\"$Result\").result[\"VideoPlayer.Title\"]"},
               {"variable":"TVShowTitle","value": "DYNAMIK JSON.parse(\"$Result\").result[\"VideoPlayer.TVShowTitle\"]"},
               {"variable":"SeasonName","value": "DYNAMIK JSON.parse(\"$Result\").result[\"VideoPlayer.Season\"]"},
               {"variable":"EpisodeName","value": "DYNAMIK JSON.parse(\"$Result\").result[\"VideoPlayer.Episode\"]"},
               {"variable":"Current_title","value": "DYNAMIK (\"Video $TVShowTitle\" == \"\" ? \"\":\"Playing \" + \"$TVShowTitle - \" + \"$VideoTitle  (\" + \"S$SeasonName\" + \"E$EpisodeName)\")"}],
            "evaldo":[
               {"test":true,"then":"__CheckPlaying"},
               {"test":true,"then":"__Invalidate_Cache"}
            ]         
         },
         "__NoPlayer":
         {"label":"",
            "type":"static",
            "command":"",
            "queryresult":"",
            "evalwrite":[
               {"variable":"MyStatus","value":"Not playing"},
               {"variable":"Current_title","value": ""},               
               {"variable":"PlayerID","value":0}
            ]  
         },  
         "__SetPause":
         {"label":"",
            "type":"static",
            "command":"",
            "queryresult":"",
            "evalwrite":[
               {"variable":"MyStatus","value":"Paused"}
            ]  
         }, 
         "___InitSettings":
         {"label":"",
            "type":"static",
            "command":"",
            "queryresult":"",
            "evaldo":[{"test":true,"then":"__SetNotWatchedSwitch", "or":""}]
         },          
         "__SetStopped":
         {"label":"",
            "type":"static",
            "command":"",
            "queryresult":"",
            "evalwrite":[{"variable":"MyStatus","value":"Stopped"},
                         {"variable":"Current_title","value":""}],
            "evaldo":[{"test":true,"then":"__GetPlayerID", "or":""}]
         },       
         "__CheckEnvir":
            {"label":"",
            "type":"static",
            "command":"",
            "evalwrite":[ 
               {"variable":"CacheResidency","value":"DYNAMIK let x = process.hrtime();x[0]-$CacheBuilt"}
            ],  
            "evaldo":[
               {"test":"DYNAMIK $CacheEmpty==0&&$CacheResidency<=5000","then":"__Nav_Menu_Or_Player", "or":"__GetWindow_ID_HTTP"}]
         },
         "__Invalidate_Cache":
            {"label":"",
            "type":"static",
            "command":"",
            "evalwrite":[{"variable":"CacheEmpty","value":1,"DESC":"window_id may change by this interaction; invalidate cache"}]
         },

         "__FILLINFO":
            {"label":"",
            "type":"static",
            "command":"",
            "evalwrite":[ 
               {"variable":"Playerinfo","value":"DYNAMIK '$Player_ShowPlusTitle'.padEnd(40,'_') + \"\\ Time: $Player_Time of $Player_Duration; finished at $Player_FinishTime\""}
            ]
         },
         "__GetWindow_ID_HTTP":
            {"label":"",
            "type":"http-rest",
            "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\",\"message\":{\"jsonrpc\":\"2.0\",\"id\":\"FillCache\",\"method\":\"GUI.GetProperties\",\"params\":{\"properties\":[\"currentwindow\",\"fullscreen\",\"currentcontrol\"]}}}",
            "queryresult":"$.result.currentwindow",
            "evalwrite":[
               {"variable":"Window_ID","value":"DYNAMIK  ((\"$Result\" == \"undefined\"))?0:JSON.parse(\"$Result\").id"},
               {"variable":"CacheEmpty","value":0},
               {"variable":"CacheBuilt","value":"DYNAMIK process.hrtime()[0];"}
                  ],  
                  "evaldo":[
                     {"test":true,"then":"__Nav_Menu_Or_Player"}
                  ]
               },
         "__Nav_Menu":
            {"label":"",
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\",\"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Input.$CURSOR\",\"id\":\"Input $CURSOR\"}}"
         },               
         "__Nav_Playing":
            {"label":"",
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\",\"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Seek\",\"params\":{\"value\":{$PlayerSeek},\"playerid\":$PlayerID},\"id\":\"Player.seek\"}}"
         },     
         "__Nav_Playing_PAUSE":     
            {"label":"",                                 
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\",\"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.PlayPause\",\"id\":\"\",\"params\":{\"playerid\":$PlayerID}}}"
         },
         "__INITIALISE": {"label": "", "type":"static", "command":"."
         },
         "__CheckPlaying":
            {"label":"",      
            "type":"http-rest",
            "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.GetProperties\",\"params\": {\"playerid\":$PlayerID,\"properties\":[\"position\",\"speed\"]},\"id\":\"\"}}",
            "queryresult":"$.result",
            "evalwrite":[{"variable":"PlayListPos","value":"DYNAMIK JSON.parse(\"$Result\").position"}]         
         },
         "__GetJustASongid":
         {
            "type":"http-get",			
            "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"AudioLibrary.GetSongs\",\"id\":\"ALBUMSONGS\",\"params\":{\"limits\": { \"start\" : 0, \"end\": 1 }, \"properties\":[\"artist\",\"albumid\"]}}",
            "queryresult":"$.result.songs.*",
            "evalwrite":[{"variable":"JustASongid","value":"DYNAMIK ( \"$Result\" != \"undefined\") ?JSON.parse(\"$Result\").songid : 0" }]
         },
         "POWER OFF":  
            {"label":"",    
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":$ShutdownCommand,\"id\":\"shutdown\"}}",
            "queryresult":"",
            "evalwrite":[
               {"variable":"POWER","value":"OFF"},
               {"variable":"Current_title","value":"Powered off"}
            ],
            "evaldo":[
               {"test":true,"then":"__PERSIST", "or":""},
               {"test":true,"then":"__CLEANUP", "or":""}
            ]
         },
         "__ShutDown":
            {"label":"",
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"System.Shutdown\",\"id\":\"shutdown\"}}",
            "queryresult":"",
            "evaldo":[
               {"test":true,"then":"__PERSIST", "or":""}
            ]
         },
         "__SetNotWatchedSwitch":
            {"label":"",
            "type":"static",
            "command":"",
            "evalwrite":[
               {"variable":"WatchFilterFull", "value":"\"filter\": {\"field\": \"playcount\", \"operator\": \"is\", \"value\": \"0\"},"},
               {"variable":"WatchFilterSmall", "value":"{\"field\": \"playcount\", \"operator\": \"is\", \"value\": \"0\"},"}
            ]
         },
         "__ClearNotWatchedSwitch":
            {"label":"",
            "type":"static",
            "command":"",
            "evalwrite":[
               {"variable":"WatchFilterFull", "value":""},
               {"variable":"WatchFilterSmall", "value":""}
            ]
         },
         "__SetShutdownMenu":
            {"label":"",
            "type":"static",
            "command":"",
            "evalwrite":[
               {"variable":"ShutdownImmed", "value":"false"},
               {"variable":"ShutdownCommand", "value":"$SetShutdownmenuCommand"}
            ]
         },
         "__SetShutdownImmed":
            {"label":"",
            "type":"static",
            "command":"",
            "evalwrite":[
               {"variable":"ShutdownImmed", "value":"true"},
               {"variable":"ShutdownCommand", "value":"$SetShutdownCommand"}

            ]
         },
         "STOP":
            {"label":"",
            "type":"static",
            "command":"",
            "evaldo":[{"test":"$MyStatus!=\"Stopped\"","then":"__STOP", "or":"__SELECT"}]               
         },
         "__STOP":
            {"label":"",                                 
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"Player.Stop\",\"method\":\"Player.Stop\", \"params\":{\"playerid\": $PlayerID}}}",
            "evalwrite":[{"variable":"CacheEmpty","value":1,"DESC":"window_id may change by this interaction; invalidate cache"}]
         },
         "SkipNext":
            {"label":"",      
            "type":"static",
            "command":"",
            "queryresult":"",
            "evaldo":[
               {"test":"$PlayListPos!=-1","then":"__SkipNext", "or":""}
            ]
         },

         "__SkipNext":
            {"label":"",      
            "type":"static",
            "command":"",
            "queryresult":"",
            "evalwrite":[{"variable":"Listindex","value":"DYNAMIK ($PlayListPos)+1"}],
            "evaldo":[
               {"test":"","then":"__StartAtPLEntry", "or":""}
            ]
         },
         "SkipPrev":
            {"label":"",      
            "type":"static",
            "command":"",
            "queryresult":"",
            "evaldo":[
               {"test":"$PlayListPos>0","then":"__SkipPrev", "or":""}
            ]
         },

         "__SkipPrev":
            {"label":"",      
            "type":"static",
            "command":"",
            "queryresult":"",
            "evalwrite":[{"variable":"Listindex","value":"DYNAMIK ($PlayListPos)-1"}],
            "evaldo":[
               {"test":"","then":"__StartAtPLEntry", "or":""}
            ]
         },
         "__StartAtPLEntry":
         {"label":"Start playing a playlist at a given point",
            "type":"http-rest",			
                  "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"Stop-musicplay\",\"method\":\"Player.Stop\", \"params\":{\"playerid\": 0}}}",  
                  "queryresult":"$",
                  "evalwrite":[{"variable":"StartPlaylist","value":""},
                     {"variable":"StartPlaylist","value":""}],
            "evaldo":[
                  {"test":"","then":"__StartAtPLEntry2", "or":""}
            ]                     
         },    
         "__StartAtPLEntry2":           
               {"type":"http-rest",			
                  "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"Restart-musicplay\",\"method\":\"Player.Open\", \"params\": {\"item\": {\"playlistid\": 0,\"position\":$Listindex}}}}",
                  "queryresult":"$",
                  "evalwrite":[{"variable":"StartPlaylist","value":""},
                     {"variable":"MYRESULT","value":"DYNAMIK  (\"$Result\")"}]
         },
         "VOLUME UP":
            {"label":"",
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Application.SetVolume\",\"id\":\"\",\"params\":{\"volume\":\"increment\"}}"
         },
         "VOLUME DOWN":
            {"label":"",
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Application.SetVolume\",\"id\":\"\",\"params\":{\"volume\":\"decrement\"}}"
         },
         "CHANNEL UP":
            {"label":"",
               "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Input.ExecuteAction\",\"id\":\"\",\"params\":{\"action\": \"subtitledelayplus\"}}"
         },
         "CHANNEL DOWN":
            {"label":"",
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Input.ExecuteAction\",\"id\":\"\",\"params\":{\"action\": \"subtitledelayminus\"}}"
         },
         "__Nav_Menu_Or_Player":
            {"Label":"", 
            "type":"static",
            "command":"{}",
            "evaldo":[{"test":"DYNAMIK \"$Window_ID\"!=\"$Fullscreen_ID\"","then":"__Nav_Menu_Init","or":"__Nav_Player_Init","desc":"if not playing, treat as menu"}]
         },  
         "__Nav_Menu_Init":
            {"Label":"", 
            "type":"static",
            "command":"{}",
            "evaldo":[
               {"test":"DYNAMIK \"$CURSOR\"!=\"Menu\"","then":"__Nav_Menu","or":"__Nav_Menu_Second","desc":"We can be in normal menu or in OSD while playing; this handles all but menu-button"}
            ]
         },  
         "__Nav_Menu_Second":
            {"Label":"", 
            "type":"static",
            "command":"{}",
            "evaldo":[
               {"test":"DYNAMIK \"$Window_ID\"==\"$OSDscreen_ID\"","then":"__OSD","or":"__ContextMenu","desc":"if not playing, treat as menu"}
            ]
         },  
         "__Nav_Player_Init":
            {"Label":"", 
            "type":"static",
            "command":"{}",
            "evaldo":[
               {"test":"DYNAMIK \"$CURSOR\"==\"Select\"","then":"__PAUSE"},
               {"test":"DYNAMIK \"$CURSOR\"==\"Menu\"","then":"__OSD", "or":"__Nav_Playing"}
            ]
         },  
         "__GetPlayerID":
            {"Label":"", 
               "type":"http-rest",
               "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\",\"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.GetActivePlayers\",\"id\":\"PlayerID\"}}",
               "queryresult":"",  
               "evalwrite":[{"variable":"PlayerID","value":"DYNAMIK (JSON.parse(\"$Result\").result.length)!=0?JSON.parse(\"$Result\").result[0].playerid:-1"}]
            },    
         "CURSOR DOWN":
            {"label":"",
            "type":"static",
            "command":"{}",
            "evalwrite":[{"variable":"CheckWindow_ID","value":"$Fullscreen_ID"},
               {"variable":"CURSOR","value":"Down"},
               {"variable":"PlayerSeek","value":"\"seconds\":30"},
               {"variable":"ReturnMenu","value":"__Nav_Playing"}               
               ],  
            "evaldo":[{"test":true,"then":"__CheckEnvir"}],"DESC":"First see if we have a GUI"   
         },
         "CURSOR LEFT":
         {  "label":"",
            "type":"static",
            "command":"{}",
            "evalwrite":[{"variable":"CheckWindow_ID","value":"$Fullscreen_ID"},
               {"variable":"CURSOR","value":"Left"},
               {"variable":"PlayerSeek","value":"\"seconds\":-10"},
               {"variable":"ReturnMenu","value":"__Nav_Playing"}
            ],  
            "evaldo":[{"test":true,"then":"__CheckEnvir"}]  ,"DESC":"First see if we have a GUI"  
         },
         "CURSOR UP":
            {"label":"",
            "type":"static",
            "command":"{}",
            "evalwrite":[{"variable":"CheckWindow_ID","value":"$Fullscreen_ID"},
               {"variable":"CURSOR","value":"Up"},
               {"variable":"PlayerSeek","value":"\"seconds\":-30"},
               {"variable":"ReturnMenu","value":"__Nav_Playing"}            
            ],  
            "evaldo":[{"test":true,"then":"__CheckEnvir"}],"DESC":"First see if we have a GUI" 
         },
         "CURSOR RIGHT":
            {"label":"",
            "type":"static",
            "command":"{}",
            "evalwrite":[{"variable":"CheckWindow_ID","value":"$Fullscreen_ID"},
               {"variable":"CURSOR","value":"Right"},
               {"variable":"PlayerSeek","value":"\"seconds\":10"},
               {"variable":"ReturnMenu","value":"__Nav_Playing"}            
            ],  
            "evaldo":[{"test":true,"then":"__CheckEnvir"}],"DESC":"First see if we have a GUI"    
         }, 
         "CURSOR ENTER":
            {"label":"",
            "type":"static",
            "command":"{}",
            "evalwrite":[{"variable":"CheckWindow_ID","value":"$Fullscreen_ID"},
               {"variable":"CURSOR","value":"Select"},
               {"variable":"PlayerSeek","value":"N/A"},
               {"variable":"ReturnMenu","value":"__PAUSE"}
            ],  
            "evaldo":[{"test":true,"then":"__CheckEnvir"}],"DESC":"First see if we have a GUI"    
         },            
         "__SELECT":
            {"label":"",                                 
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":\"Input.Select\",\"id\":\"\"}"
         },          
         "PAGE UP":
            {"label":"",
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Input.ExecuteAction\",\"id\":\"\",\"params\":{\"action\": \"pageup\"}}"
         },
         "PAGE DOWN":
            {"label":"",
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Input.ExecuteAction\",\"id\":\"\",\"params\":{\"action\": \"pagedown\"}}"
         },
         "PLAY":
            {"label":"",
            "type":"static",
            "command":"",
            "evalwrite":[
               {"variable":"MYRESULT","value":"$PlayerID"}
            ],  
            "evaldo":[{"test":"DYNAMIK (\"$PlayerID\"==\"1\")","then":"__PLAY", "or":"__SELECT"}]   
         },
         "__PLAY":
            {"label":"",                                 
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.PlayPause\",\"id\":\"\",\"params\":{\"playerid\":$PlayerID}}}"
         },    
         "SHUFFLE":
            {"label":"",                                 
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.SetShuffle\",\"id\":\"\",\"params\":{\"playerid\":$PlayerID,\"shuffle\":true}}}"
         },             
         "SYNCSUB":
            {"label":"",
            "type":"static",
            "command":"",
            "evaldo":[{"test":"$PlayerID","then":"__SYNCSUB", "or":"__SELECT"}]      
         },
         "__SYNCSUB":
            {"label":"",                                 
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Input.ExecuteAction\",\"params\":{ \"action\": \"subtitledelay\"},\"id\":\"\"}}"
            },          
         "SubtitleDelayMinus":
            {"label":"",                                 
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Input.ExecuteAction\",\"params\":{ \"action\": \"subtitledelayminus\"},\"id\":\"\"}}"
            },          
         "SubtitleDelayPlus":
            {"label":"",                                 
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Input.ExecuteAction\",\"params\":{ \"action\": \"subtitledelayplus\"},\"id\":\"\"}}"
            },          
            "SUBTITLE":
            {"label":"",                                 
               "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"GUI.ActivateWindow\",\"id\":\"\",\"params\":{\"window\": \"subtitlesearch\"}}}"
         },          
         "PAUSE":
            {"label":"",
            "type":"static",
            "command":"",
            "evaldo":[{"test":"$MyStatus!=\"Stopped\"","then":"__PAUSE", "or":"__SELECT"}]               
         },
         "__PAUSE":
            {"label":"",                                 
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.PlayPause\",\"id\":\"\",\"params\":{\"playerid\":$PlayerID}}}"
         },
         "BACK":
            {"label":"",
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Input.back\",\"id\":\"\"}}",
            "evalwrite":[{"variable":"CacheBuilt","value":"0"}] 
            },
         "MENU":
            {"label":"",
            "type":"static",
            "command":"{}",
            "evalwrite":[{"variable":"CheckWindow_ID","value":"$Fullscreen_ID"},
               {"variable":"CURSOR","value":"Menu"},
               {"variable":"ReturnMenu","value":"__OSD"}               
               ],  
            "evaldo":[{"test":true,"then":"__CheckEnvir"}]   
         },
         "__OSD":
            {"label":"",                                 
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Input.ShowOSD\",\"id\":\"\"}}",
            "evaldo":[{"test":true,"then":"__Invalidate_Cache"}]
         },
         "__ContextMenu":
            {"label":"",                                 
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Input.ContextMenu\",\"id\":\"\"}}",
            "evaldo":[{"test":true,"then":"__Invalidate_Cache"}]
         },
         "SELECT":
            {"label":"",
            "type":"static",
            "command":"{}",
            "evalwrite":[{"variable":"CURSOR","value":"Select"},
               {"variable":"PlayerSeek","value":"N/A"},
               {"variable":"ReturnMenu","value":"__PAUSE"}
            ],  
            "evaldo":[{"test":true,"then":"__CheckEnvir"}]   
         },
         "AUDIO":
            {"label":"",
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Input.ExecuteAction\",\"id\":\"\",\"params\":{\"action\":\"audionextlanguage\"}}}"
         }, 
         "LANGUAGE":
            {"label":"",
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Input.ExecuteAction\",\"id\":\"\",\"params\":{\"action\":\"audionextlanguage\"}}}"
         },  
         "NEXTSUBTITLE":
            {"label":"",
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Input.ExecuteAction\",\"id\":\"\",\"params\":{\"action\":\"nextsubtitle\"}}}"
         },  
         "INFO":
            {"label":"",
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Input.ExecuteAction\",\"id\":\"\",\"params\":{\"action\":\"codecinfo\"}}}"
         },  
         "MUTE TOGGLE":
            {"label":"",
            "type":"webSocket",
            "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":\"Application.SetMute\",\"id\":\"\"}}"           
         }
      },
      "directories":
         {"TVShows":            
            {"label":"TVShows",
            "feeders":{
               "TVShows":{"label":"TVShow list",
                  "commandset":[
                  {
                     "type":"http-get",			
                     "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetTVShows\",\"id\":\"TV\",\"params\":{$WatchFilterFull\"properties\":[\"title\",\"thumbnail\",\"fanart\",\"playcount\"],\"sort\":{\"order\":\"ascending\",\"method\":\"title\",\"ignorearticle\": true }}}",
                     "queryresult":"$.result.tvshows.*",
                     "itembrowse":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemname":"DYNAMIK JSON.parse(\"$Result\").label",                        
                     "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons/checkmark.jpg\":(\"$ShowThumbnail\" == \"true\")?(JSON.parse(\"$Result\").fanart.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").fanart.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").fanart.includes(\"smb%3a\"))?JSON.parse(\"$Result\").fanart.replace(\"image://\",\"http://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/tvshow.jpg\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/tvshow.jpg\"",
                     "evalwrite":[{"variable":"TVShowTitle","value":"DYNAMIK JSON.parse(\"$Result\").title"},
                        {"variable":"TVShowid","value":"DYNAMIK JSON.parse(\"$Result\").tvshowid"}, 
                        {"variable":"TVShowBanner","value":"DYNAMIK (\"$ShowThumbnail\" == \"true\")?(JSON.parse(\"$Result\").fanart.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").fanart.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").fanart.includes(\"smb%3a\"))?JSON.parse(\"$Result\").fanart.replace(\"image://\",\"http://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/tvshow.jpg\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/tvshow.jpg\""}
                     ],
                     "evalnext":[
                        {
                           "test":true,
                           "then":"TVSeasons",
                           "or":""
                        } 
                     ]}  
                  ]
               },
               "TVSeasons":{
                  "label":"TVShow seasons",
                  "commandset":[
                     {
                     "type":"static",
                     "command":"{}",
                     "itemtype":"tile",
                     "itemaction":"",
                     "itemimage":"$TVShowBanner"
                     },                  {
                     "type":"http-get",			
                     "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetTVShowDetails\",\"id\":\"TVSHowinfo\", \"params\":{\"tvshowid\":$TVShowid,\"properties\": [\"plot\"]}}",
                     "queryresult":"$.result.tvshowdetails.plot",
                     "itemname":"Plot for $TVShowTitle",
                     "itemlabel":"$Result",
                     "itemtype":"info"
                  },   
                  {
                     "type":"http-get",
                     "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetSeasons\",\"id\":\"TVShowSeasons\",\"params\":{\"tvshowid\":$TVShowid,\"properties\": [\"thumbnail\",\"playcount\",\"tvshowid\", \"season\", \"showtitle\"],\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\": true }}}",
                     "queryresult":"$.result.seasons.*",
                     "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//checkmark.jpg\":\"$TVShowBanner\"",
                     "itembrowse":"DYNAMIK JSON.parse(\"$Result\").label","itemname":"DYNAMIK JSON.parse(\"$Result\").label","itemlabel":"DYNAMIK JSON.parse(\"$Result\").label",
                     "evalwrite":[
                                  {"variable":"SeasonName","value":"DYNAMIK JSON.parse(\"$Result\").label"},{"variable":"Seasonid","value":"DYNAMIK JSON.parse(\"$Result\").season"}],
                     "evalnext":[{"test":true,"then":"TVShowEpisodes","or":""}]
                  }
                  ]
               },
               "TVShowEpisodes":{
                  "label":"TVShow episodes",
                  "commandset":[
                     {"type":"http-get",
                     "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetEpisodes\",\"id\":\"TV\",\"params\":{\"tvshowid\":$TVShowid,\"filter\": {\"and\": [$WatchFilterSmall{ \"operator\": \"is\", \"field\":  \"season\", \"value\": \"$Seasonid\"}]} ,\"properties\":[\"title\",\"thumbnail\",\"playcount\"],\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\": true }}}",
                     "queryresult":"$.result.episodes.*",
                     "itembrowse":"DYNAMIK JSON.parse(\"$Result\").label","itemname":"DYNAMIK JSON.parse(\"$Result\").label","itemlabel":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//checkmark.jpg\":(\"$ShowThumbnail\" == \"true\")?(JSON.parse(\"$Result\").thumbnail.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").thumbnail.includes(\"smb%3a\"))?JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"http://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/tvshow.jpg\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/tvshow.jpg\"",
                     "evalwrite":[{"variable":"EpisodeName","value":"DYNAMIK JSON.parse(\"$Result\").label"},
                                 {"variable":"Episodeid","value":"DYNAMIK JSON.parse(\"$Result\").episodeid"},
                                 {"variable":"Episodeimage","value":"DYNAMIK (JSON.parse(\"$Result\").thumbnail.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").thumbnail.includes(\"smb%3a\"))?JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"http://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/tvshow.jpg\""}                              
                                 ],
                     "evalnext":[{"test":true,"then":"TVShowEpisode","or":""}]
                     }
                  ]
               },
               "TVShowEpisode":{   
                  "label":"A single episode",
                  "commandset":[
                  {"type":"static",
                  "command":"{}",
                  "itemtype":"tile",
                  "itemaction":"Play",
                  "itemimage":"$Episodeimage"
                  },
                  {
                  "type":"http-get",			
                  "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetEpisodeDetails\",\"id\":\"TVEpisodeinfo\", \"params\":{\"episodeid\":$Episodeid,\"properties\": [\"plot\"]}}",
                  "queryresult":"$.result.episodedetails.plot",
                  "itemname":"Plot for $EpisodeName",
                  "itemlabel":"$Result",
                  "itemtype":"info"
                  },
                  {"command":"{}","type":"static",
                  "itemname":"$TVShowTitle",
                  "itemlabel":"$EpisodeName",
                  "itembrowse":"12",
                  "itemimage":"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons/play.jpg",
                  "itemaction":"Play"                  
                  },
                  {
                  "type":"static",
                  "command":"{}",
                  "itemname":"Pause",
                  "itemaction": "Pause",
                  "itemtype":"button"
                  },  
                  {
                  "type":"static",
                  "command":"{}",
                  "itemname":"Stop",
                  "itemaction": "Stop",
                  "itemtype":"button"
                  }   
               ]
               },
               "Play":{   
                  "label":"Play episode",
                  "commandset":[
                     {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\",\"id\":\"TVP\",\"params\":{\"item\":  {\"episodeid\":$Episodeid},\"options\":{\"resume\":true}}}}", 
                    "evalwrite":[{"variable":"PlayerID","value":1}]
                     }
                  ]
               },
               "Pause":{   
                  "label":"Pause/Continue",
                  "commandset":[
                     {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"Pause-Play\",\"method\":\"Player.PlayPause\", \"params\":{\"playerid\": 1}}}"
                     }
                  ]
               },
               "Stop":{   
                  "label":"Stop play",
                  "commandset":[
                     {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"Player.Stop\",\"method\":\"Player.Stop\", \"params\":{\"playerid\": 1}}}",   
                       "evalwrite":[{"variable":"PlayerID","value":0}]
                     }
                  ]
               }
            }
         },
         "EpisodesRecentAdded":  
            {"label":"EpisodesRecentAdded",
            "feeders":{
               "RecentEpisodes":{
                  "label":"RecentEpisode list",
                  "commandset":[
                  {
                  "type":"static",
                  "command":"",
                  "itemtype":"tile",
                  "itemaction":""
                  },
                  {
                  "type":"http-get",			
                  "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetRecentlyAddedEpisodes\",\"id\":\"RecentEpisode\",\"params\":{$WatchFilterFull\"properties\":[\"title\",\"playcount\",\"thumbnail\",\"showtitle\"]}}",
                  "queryresult":"$.result.episodes.*",
                  "itembrowse":"DYNAMIK JSON.parse(\"$Result\").label",
                  "itemname":"DYNAMIK JSON.parse(\"$Result\").showtitle",
                  "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label",
                  "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//checkmark.jpg\":(\"$ShowThumbnail\" == \"true\")?(JSON.parse(\"$Result\").thumbnail.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").thumbnail.includes(\"smb%3a\"))?JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"http://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/tvshow.jpg\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/tvshow.jpg\"",
                  "evalwrite":[
                              {"variable":"EpisodeName","value":"DYNAMIK JSON.parse(\"$Result\").label"},
                              {"variable":"Episodeid","value":"DYNAMIK JSON.parse(\"$Result\").episodeid"}, 
                              {"variable":"Episodeimage","value":"DYNAMIK (JSON.parse(\"$Result\").thumbnail.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").thumbnail.includes(\"smb%3a\"))?JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"http://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/tvshow.jpg\""} 
                              ],
                  "evalnext":[{"test":true, "then":"RecentEpisodePlay","or":""}]
                  }  
                  ]
               }, 
               "RecentEpisodePlay":{   
                  "label":"A single episode",
                  "commandset":[
                     {"type":"static",
                     "command":"{}",
                     "itemtype":"tile",
                     "itemaction":"",
                     "itemimage":"$Episodeimage"
                     },
                     {"type":"http-get",			
                     "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetEpisodeDetails\",\"id\":\"TVEpisodeinfo\", \"params\":{\"episodeid\":$Episodeid,\"properties\": [\"plot\"]}}",
                     "queryresult":"$.result.episodedetails.plot",
                     "itemname":"Plot for $EpisodeName",
                     "itemlabel":"$Result",
                     "itemtype":"info"
                     },
                     {"command":"{}","type":"static",
                     "itemname":"$EpisodeName",
                     "itemlabel":"$EpisodeName",
                     "itembrowse":"12",
                     "itemimage":"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons/play.jpg",
                     "itemaction":"Play"                  
                     },
                     {
                     "type":"static",
                     "command":"{}",
                     "itemname":"Pause",
                     "itemaction": "Pause",
                     "itemtype":"button"
                     },                     
                     {
                     "type":"static",
                     "command":"{}",
                     "itemname":"Stop",
                     "itemaction": "Stop",
                     "itemtype":"button"
                     }
                     ]               
                  },
               "Play":{   
                  "label":"Play Episode",
                  "commandset":[
                     {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\",\"id\":\"TVP\",\"params\":{\"item\":  {\"episodeid\":$Episodeid},\"options\":{\"resume\":true}}}}", 
                       "evalwrite":[{"variable":"PlayerID","value":1}]
                     }
                  ]
               },
               "Pause":{   
                  "label":"Pause/Continue",
                  "commandset":[
                     {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"Pause-Play\",\"method\":\"Player.PlayPause\", \"params\":{\"playerid\": 1}}}"
                     }
                  ]
               },
               "Stop":{   
                  "label":"Stop play",
                  "commandset":[
                     {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"Player.Stop\",\"method\":\"Player.Stop\", \"params\":{\"playerid\": 1}}}", 
                     "evalwrite":[{"variable":"PlayerID","value":0}]
                     }
                  ]
               }
               }
            },        
         "Movies":  
            {"label":"Movies",
            "feeders":{
               "Movies":{
               "label":"Movie list",
               "commandset":[
                  {
                  "type":"http-get",			
                  "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetMovies\",\"id\":\"movie\",\"params\":{$WatchFilterFull\"properties\":[\"title\",\"playcount\",\"fanart\"],\"sort\":{\"order\":\"ascending\",\"method\":\"title\",\"ignorearticle\": true }}}",
                  "queryresult":"$.result.movies.*",
                  "itembrowse":"DYNAMIK JSON.parse(\"$Result\").label",
                  "itemname":"DYNAMIK JSON.parse(\"$Result\").label",
                  "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label",
                  "itemaction":"", 
                  "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//checkmark.jpg\":(\"$ShowThumbnail\" == \"true\")?(JSON.parse(\"$Result\").fanart.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").fanart.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").fanart.includes(\"smb%3a\"))?JSON.parse(\"$Result\").fanart.replace(\"image://\",\"http://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/movie.jpg\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/tvshow.jpg\"",
                  "evalwrite":[{"variable":"MovieTitle","value":"DYNAMIK JSON.parse(\"$Result\").title"},
                               {"variable":"Movieid","value":"DYNAMIK JSON.parse(\"$Result\").movieid"}, 
                               {"variable":"MovieBanner","value": "DYNAMIK (JSON.parse(\"$Result\").fanart.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").fanart.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").fanart.includes(\"smb%3a\"))?JSON.parse(\"$Result\").fanart.replace(\"image://\",\"http://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/movie.jpg\""}
                              ],
                  "evalnext":[{"test":true, "then":"MoviePlay","or":""}
                  ]
                  }  
               ]
               },
               "MoviePlay":{   
                  "label":"A single movie",
                  "commandset":[
                     {
                     "type":"static",
                     "command":"{}",
                     "itemtype":"tile",
                     "itemaction":"",
                     "itemimage":"$MovieBanner"
                     }, 
                     {
                     "type":"http-get",			
                     "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetMovieDetails\",\"id\":\"movieinfo\", \"params\":{\"movieid\":$Movieid,\"properties\": [\"plot\"]}}",
                     "queryresult":"$.result.moviedetails.plot",
                     "itemname":"Plot for $MovieTitle",
                     "itemlabel":"$Result",
                     "itemtype":"info"
                     },
                     {
                     "type":"static",
                     "command":"{}",
                     "queryresult":"",
                     "itemname":"$MovieTitle",
                     "itemlabel":"$MovieTitle",
                     "itembrowse":"12",
                     "itemimage":"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons/play.jpg",
                     "itemaction":"Play"                  
                     },
                     {
                     "type":"static",
                     "command":"{}",
                     "queryresult":"$",
                     "itemname":"Pause",
                     "itemaction": "Pause",
                     "itemtype":"button"
                     },      
                     {
                     "type":"static",
                     "command":"{}",
                     "queryresult":"$",
                     "itemname":"Stop",
                     "itemaction": "Stop",
                     "itemtype":"button"
                     }
   
                  ]
               },  
               "Play":{   
                  "label":"Play a movie",
                  "commandset":[
                     {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\",\"id\":\"MOVIEP\",\"params\":{\"item\":  {\"movieid\":$Movieid},\"options\":{\"resume\":true}}}}",
                       "evalwrite":[{"variable":"PlayerID","value":1}]
                     } 
                  ]
               },
               "Pause":{   
                  "label":"Pause/Continue",
                  "commandset":[
                     {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"Pause-Play\",\"method\":\"Player.PlayPause\", \"params\":{\"playerid\": 1}}}"
                     }
                  ]
               },               
               "Stop":{   
                  "label":"Stop play",
                  "commandset":[
                     {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"POWER-ON\",\"method\":\"Player.Stop\", \"params\":{\"playerid\": 1}}}",  
                    "evalwrite":[{"variable":"PlayerID","value":0}]
                     }
                  ]
               }               
               }
            },
         "MoviesRecentAdded":  
            {"label":"MoviesRecentAdded",
            "feeders":{
               "Movies":{
                  "label":"RecentMovie list",
                  "commandset":[
                  {
                     "type":"http-get",			
                     "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetRecentlyAddedMovies\",\"id\":\"movie\",\"params\":{$WatchFilterFull\"properties\":[\"title\",\"playcount\",\"thumbnail\"],\"sort\":{\"order\":\"ascending\",\"method\":\"title\",\"ignorearticle\": true }}}",
                     "queryresult":"$.result.movies.*",
                     "itembrowse":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemname":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//checkmark.jpg\":(\"$ShowThumbnail\" == \"true\")?(JSON.parse(\"$Result\").thumbnail.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").thumbnail.includes(\"smb%3a\"))?JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"http://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/movie.jpg\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/movie.jpg\"",
                     "evalwrite":[{"variable":"MovieTitle","value":"DYNAMIK JSON.parse(\"$Result\").title"},
                                  {"variable":"Movieid","value":"DYNAMIK JSON.parse(\"$Result\").movieid"}, 
                                  {"variable":"MovieBanner","value": "DYNAMIK (JSON.parse(\"$Result\").thumbnail.includes(\"image://video@\"))?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/movie.jpg\":(JSON.parse(\"$Result\").thumbnail.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").thumbnail.replace(\"image://\",\"\").slice(0, -1)):\"\""}
                                 ],
                     "evalnext":[{"test":true, "then":"MoviePlay","or":""}]               
                  }  
                  ]
               },
               "MoviePlay":{   
                  "label":"A single movie",
                  "commandset":[
                     {
                     "type":"static",
                     "command":"{}",
                     "itemtype":"tile",
                     "itemaction":"",
                     "itemimage":"$MovieBanner"
                     },
                     {
                     "type":"http-get",			
                     "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetMovieDetails\",\"id\":\"movieinfo\", \"params\":{\"movieid\":$Movieid,\"properties\": [\"plot\"]}}",
                     "queryresult":"$.result.moviedetails.plot",
                     "itemname":"Plot for $MovieTitle",
                     "itemlabel":"$Result",
                     "itemtype":"info"
                     },
                     {
                     "type":"static",
                     "command":"{}",
                     "queryresult":"",
                     "itemname":"$MovieTitle",
                     "itemlabel":"$MovieTitle",
                     "itembrowse":"12",
                     "itemimage":"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons/play.jpg",
                     "itemaction":"Play"                  
                     },                     
                     {
                     "type":"static",
                     "command":"{}",
                     "queryresult":"$",
                     "itemname":"Pause",
                     "itemaction": "Pause",
                     "itemtype":"button"
                     },
                     {
                     "type":"static",
                     "command":"{}",
                     "queryresult":"$",
                     "itemname":"Stop",
                     "itemaction": "Stop",
                     "itemtype":"button"
                     }
   
                  ]
               },  
               "Play":{   
                  "label":"Play movie",
                  "commandset":[
                     {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\",\"id\":\"MOVIEP\",\"params\":{\"item\":  {\"movieid\":$Movieid},\"options\":{\"resume\":true}}}}",  
                    "evalwrite":[{"variable":"PlayerID","value":1}]
                     }
                  ]
               },               
               "Pause":{   
                  "label":"Pause/Continue",
                  "commandset":[
                     {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"Pause-Play\",\"method\":\"Player.PlayPause\", \"params\":{\"playerid\": 1}}}"
                     }
                  ]
               },
               "Stop":{   
                  "label":"Stop play",
                  "commandset":[
                     {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"POWER-ON\",\"method\":\"Player.Stop\", \"params\":{\"playerid\": 1}}}",  
                     "evalwrite":[{"variable":"PlayerID","value":0}]
                     }
                  ]
               }               
               }
         },         
         "MovieSets":  
            {"label":"MovieSets",
            "feeders":{
               "MovieSets":{
                  "label":"Movie Sets",
                  "commandset":
                  [
                     {"type":"http-get",			
                     "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetMovieSets\",\"id\":\"movie\",\"params\":{\"properties\":[\"title\",\"playcount\",\"thumbnail\",\"fanart\"],\"sort\":{\"order\":\"ascending\",\"method\":\"title\",\"ignorearticle\": true}}}",
                     "queryresult":"$.result.sets.*",
                     "itembrowse":"DYNAMIK JSON.parse(\"$Result\").label","itemname":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemimage":"DYNAMIK (\"$ShowThumbnail\" == \"true\")?(JSON.parse(\"$Result\").fanart.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").fanart.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").fanart.includes(\"smb%3a\"))?JSON.parse(\"$Result\").fanart.replace(\"image://\",\"http://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/movie.jpg\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/movie.jpg\"",
                     "evalwrite":[{"variable":"SetTitle","value":"DYNAMIK JSON.parse(\"$Result\").title"},
                                  {"variable":"Setid","value":"DYNAMIK JSON.parse(\"$Result\").setid"},
                                  {"variable":"MovieBanner","value":"DYNAMIK (JSON.parse(\"$Result\").fanart.includes(\"http\"))?decodeURIComponent(JSON.parse(\"$Result\").fanart.replace(\"image://\",\"\").slice(0, -1)):(JSON.parse(\"$Result\").fanart.includes(\"smb%3a\"))?JSON.parse(\"$Result\").fanart.replace(\"image://\",\"http://$MyKODIIp:$MyKODIPort/vfs/\").slice(0, -1):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/movie.jpg\""}],
                     "evalnext":[
                        {
                           "test":true,
                           "then":"MovieSet",
                           "or":""
                        } 
                     ]}  
                  ]
               }, 
               "MovieSet":{
                  "label":"Movieset entry",
                  "commandset":[
                  {
                     "type":"static",
                     "command":"{}",
                     "itemtype":"header",
                     "itemaction":"",
                     "itemname":"MovieSet = $SetTitle"
                  },    
                  {"type":"http-get",
                     "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetMovieSetDetails\",\"id\":\"MVS\",\"params\":{\"setid\":$Setid,\"properties\": [\"thumbnail\",\"fanart\",\"playcount\"]}}",
                     "queryresult":"$.result.setdetails.movies.*",
                     "itemname":"DYNAMIK JSON.parse(\"$Result\").label",
                     "itemlabel":"$SetTitle",
                     "itemimage":"$MovieBanner",
                     "evalwrite":[{"variable":"MovieTitle","value":"DYNAMIK JSON.parse(\"$Result\").label"},{"variable":"Movieid","value":"DYNAMIK JSON.parse(\"$Result\").movieid"}],
                     "evalnext":[{"test":true, "then":"MoviePlay","or":""}]
                  }
                  ]
               },
               "MoviePlay":{   
                  "label":"A single movie",
                  "commandset":[ 
                  {
                     "type":"static",
                     "command":"{}",
                     "itemtype":"header",
                     "itemaction":"",
                     "itemname":"$MovieTitle"
                  },   
                  {
                     "type":"http-get",			
                     "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetMovieDetails\",\"id\":\"movieinfo0\", \"params\":{\"movieid\":$Movieid,\"properties\": [\"plot\",\"fanart\",\"thumbnail\"]}}",
                     "queryresult":"$.result.moviedetails.fanart",
                     "itemtype":"tile",
                  "itemaction":"",
                  "itemimage":"DYNAMIK (\"$Result\"!=\"\")?\"http://$MyKODIIp:$MyKODIPort/image/\"+encodeURIComponent(\"$Result\"):\"$MovieBanner\""
                  },
                  {
                  "type":"http-get",			
                  "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetMovieDetails\",\"id\":\"movieinfo2\", \"params\":{\"movieid\":$Movieid,\"properties\": [\"plot\",\"fanart\",\"thumbnail\"]}}",
                  "queryresult":"$.result.moviedetails.plot",
                  "itemname":"Plot for $MovieTitle",
                  "itemlabel":"$Result",
                  "itemtype":"info"
                  },
                  {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"",
                  "itemname":"$MovieTitle",
                  "itemlabel":"$MovieTitle",
                  "itemimage":"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons/play.jpg",
                  "itemaction":"Play"                  
                  },
                  {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"$",
                  "itemname":"Play",
                  "itemaction": "Play",
                  "itemtype":"button"
                  },
                  {
                     "type":"static",
                     "command":"{}",
                     "queryresult":"$",
                     "itemname":"Pause",
                     "itemaction": "Pause",
                     "itemtype":"button"
                     },
                     {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"$",
                  "itemname":"Stop",
                  "itemaction": "Stop",
                  "itemtype":"button"
                  }
                  ]
               },   
               "Stop":{   
                  "label":"Stop play",
                  "commandset":[
                     {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"POWER-ON\",\"method\":\"Player.Stop\", \"params\":{\"playerid\": 1}}}",
                    "evalwrite":[{"variable":"PlayerID","value":0}]
                     }
                  ]
               },        
               "Pause":{   
                  "label":"Pause/Continue",
                  "commandset":[
                     {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"Pause-Play\",\"method\":\"Player.PlayPause\", \"params\":{\"playerid\": 1}}}"  
                     }
                  ]
               },
               "Play":{   
                  "label":"Play Movie",
                  "commandset":[
                     {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\",\"id\":\"TVP\",\"params\":{\"item\":  {\"movieid\":$Movieid},\"options\":{\"resume\":true}}}}"
                     } 
                  ]
               }               
            }
         },

         "VideoSources":  
         {"label":"VideoSources",
         "feeders":{
            "VideoSources":{
               "label":"VideoSources",
               "commandset":[
                        {
                           "type":"static",
                           "command":"",
                           "itemtype":"tile",
                           "itemimage":"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/movie.jpg",                        
                           "itemaction":""
                        },
                        {
                           "type":"http-get",			
                           "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"Files.GetSources\",\"id\":\"VS\",\"params\": {\"media\": \"video\",\"sort\":{\"order\":\"ascending\",\"method\":\"title\",\"ignorearticle\": true}}}",
                           "queryresult":"$.result.sources.*",
                           "itembrowse":"DYNAMIK JSON.parse(\"$Result\").file",
                           "itemname":"DYNAMIK JSON.parse(\"$Result\").label",
                           "itemlabel":"DYNAMIK JSON.parse(\"$Result\").file",
                           "itemimage":"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/movie.jpg",
                           "evalwrite":[{"variable":"VideoFile","value":"DYNAMIK JSON.parse(\"$Result\").file"},                                 
                                       {"variable":"VideoRootFile","value":"DYNAMIK JSON.parse(\"$Result\").file"},
                                       {"variable":"VideoBanner","value":"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/movie.jpg"}
                                    ],
                           "evalnext":[
                              {
                                 "test":true,
                                 "then":"VideoDirectory",
                                 "or":""
                              } 
                           ]}  
               ]
               }, 
            "VideoDirectory":{
               "label":"VideoDirectory files",
               "commandset":[
                        {
                           "type":"static",
                           "command":"",
                           "itemtype":"tile",
                           "itemaction":""
                        },
                        {
                           "type":"http-get",
                           "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"Files.GetDirectory\",\"id\":\"VS2\",\"params\":{\"directory\":\"$VideoFile\",\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\": true}}}",
                           "queryresult":"$.result.files.*",
                           "itembrowse":"DYNAMIK JSON.parse(\"$Result\").file",
                           "itemlabel":"DYNAMIK (JSON.parse(\"$Result\").label.length > 28)?JSON.parse(\"$Result\").label.slice(28,99):\"\"",
                           "itemname":"DYNAMIK JSON.parse(\"$Result\").label.slice(0,28)",
                           "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//checkmark.jpg\":(JSON.parse(\"$Result\").filetype == \"directory\")?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//Folder.jpg\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//File.jpg\"",

                           "evalwrite":[{"variable":"VideoFile","value":"DYNAMIK JSON.parse(\"$Result\").file"},
                                       {"variable":"VideoDirectory2","value":"DYNAMIK JSON.parse(\"$Result\").file"},                               
                                       {"variable":"VideoFileType","value":"DYNAMIK JSON.parse(\"$Result\").filetype"},
                                       {"variable":"VideoFileType","value":"DYNAMIK JSON.parse(\"$Result\").filetype"}
                                    ],
                           "evalnext":[
                              {
                                 "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"directory\")",      
                                 "then":"VideoDirectory2"
                              },
                              {
                                 "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"file\")",      
                                 "then":"VideoFilesPlay"
                              }                                 
                           ]}
               ]
               },      
            "VideoDirectory2":{
               "label":"VideoDirectory files",
               "commandset":[
                              {
                                 "type":"static",
                                 "command":"",
                                 "itemtype":"tile",
                                 "itemaction":""
                              },
                              {
                                 "type":"http-get",
                                 "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"Files.GetDirectory\",\"id\":\"VS2\",\"params\":{\"directory\":\"$VideoDirectory2\",\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\": true}}}",
                                 "queryresult":"$.result.files.*",
                                 "itembrowse":"DYNAMIK JSON.parse(\"$Result\").file",
                                 "itemlabel":"DYNAMIK (JSON.parse(\"$Result\").label.length > 28)?JSON.parse(\"$Result\").label.slice(28,99):\"\"",
                                 "itemname":"DYNAMIK JSON.parse(\"$Result\").label.slice(0,28)",
                                 "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//checkmark.jpg\":(JSON.parse(\"$Result\").filetype == \"directory\")?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//Folder.jpg\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//File.jpg\"",
                                 "evalwrite":[{"variable":"VideoFile","value":"DYNAMIK JSON.parse(\"$Result\").file"},    
                                             {"variable":"VideoDirectory3","value":"DYNAMIK JSON.parse(\"$Result\").file"},                                                                            
                                             {"variable":"VideoFileType","value":"DYNAMIK JSON.parse(\"$Result\").filetype"}],
                                 "evalnext":[
                                    {
                                       "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"directory\")",      
                                       "then":"VideoDirectory3"
                                    },
                                    {
                                       "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"file\")",      
                                       "then":"VideoFilesPlay"
                                    }  
                                 ]}
               ]
               }, 
            "VideoDirectory3":{
               "label":"VideoDirectory files",
               "commandset":[
                        {
                           "type":"static",
                           "command":"",
                           "itemtype":"tile",
                           "itemaction":""
                        },
                        {
                           "type":"http-get",
                           "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"Files.GetDirectory\",\"id\":\"VS3\",\"params\":{\"directory\":\"$VideoDirectory3\",\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\": true}}}",
                           "queryresult":"$.result.files.*",
                           "itembrowse":"DYNAMIK JSON.parse(\"$Result\").file",
                           "itemlabel":"DYNAMIK (JSON.parse(\"$Result\").label.length > 28)?JSON.parse(\"$Result\").label.slice(28,99):\"\"",
                           "itemname":"DYNAMIK JSON.parse(\"$Result\").label.slice(0,28)",
                           "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//checkmark.jpg\":(JSON.parse(\"$Result\").filetype == \"directory\")?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//Folder.jpg\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//File.jpg\"",
                           "evalwrite":[{"variable":"VideoFile","value":"DYNAMIK JSON.parse(\"$Result\").file"},   
                                       {"variable":"VideoDirectory4","value":"DYNAMIK JSON.parse(\"$Result\").file"},                                                                            
                                       {"variable":"VideoFileType","value":"DYNAMIK JSON.parse(\"$Result\").filetype"}],
                           "evalnext":[
                              {
                                 "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"directory\")",      
                                 "then":"VideoDirectory4"
                              },
                              {
                                 "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"file\")",      
                                 "then":"VideoFilesPlay"
                              }  
                           ]}
               ]
               },
            "VideoDirectory4":{
               "label":"VideoDirectory files",
               "commandset":[
                  {
                  "type":"http-get",
                  "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"Files.GetDirectory\",\"id\":\"VS4\",\"params\":{\"directory\":\"$VideoDirectory4\",\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\": true}}}",                        "queryresult":"$.result.files.*",
                  "itembrowse":"DYNAMIK JSON.parse(\"$Result\").file",
                  "itemlabel":"DYNAMIK (JSON.parse(\"$Result\").label.length > 28)?JSON.parse(\"$Result\").label.slice(28,99):\"\"",
                  "itemname":"DYNAMIK JSON.parse(\"$Result\").label.slice(0,28)",
                  "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//checkmark.jpg\":(JSON.parse(\"$Result\").filetype == \"directory\")?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//Folder.jpg\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//File.jpg\"",
                  "evalwrite":[{"variable":"VideoFile","value":"DYNAMIK JSON.parse(\"$Result\").file"},  
                              {"variable":"VideoDirectory5","value":"DYNAMIK JSON.parse(\"$Result\").file"},                                                                            
                              {"variable":"VideoFileType","value":"DYNAMIK JSON.parse(\"$Result\").filetype"}],
                  "evalnext":[
                     {
                        "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"directory\")",      
                        "then":"VideoDirectory5"
                     },
                     {
                        "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"file\")",      
                        "then":"VideoFilesPlay"
                     }  
                  ]}
               ]
               },  
            "VideoDirectory5":{
                     "label":"VideoDirectory files",
                     "commandset":[
                        {
                           "type":"static",
                           "command":"",
                              "itemtype":"tile",
                           "itemaction":""
                        },
                        {
                           "type":"http-get",
                           "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"Files.GetDirectory\",\"id\":\"VS5\",\"params\":{\"directory\":\"$VideoDirectory5\",\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\": true}}}",
                           "queryresult":"$.result.files.*",
                           "itembrowse":"DYNAMIK JSON.parse(\"$Result\").file",
                           "itemlabel":"DYNAMIK (JSON.parse(\"$Result\").label.length > 28)?JSON.parse(\"$Result\").label.slice(28,99):\"\"",
                           "itemname":"DYNAMIK JSON.parse(\"$Result\").label.slice(0,28)",
                           "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//checkmark.jpg\":(JSON.parse(\"$Result\").filetype == \"directory\")?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//Folder.jpg\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//File.jpg\"",
                           "evalwrite":[{"variable":"VideoFile","value":"DYNAMIK JSON.parse(\"$Result\").file"},    
                                       {"variable":"VideoDirectory6","value":"DYNAMIK JSON.parse(\"$Result\").file"},                                                                            
                                       {"variable":"VideoFileType","value":"DYNAMIK JSON.parse(\"$Result\").filetype"}],
                           "evalnext":[
                              {
                                 "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"directory\")",      
                                 "then":"VideoDirectory6"
                              },
                              {
                                 "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"file\")",      
                                 "then":"VideoFilesPlay"
                              }  
                        ]}
               ]
               },   
            "VideoDirectory6":{
               "label":"VideoDirectory files",
               "commandset":[
                     {
                        "type":"http-get",
                        "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"Files.GetDirectory\",\"id\":\"VS6\",\"params\":{\"directory\":\"$VideoDirectory6\",\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\": true}}}",
                        "queryresult":"$.result.files.*",
                        "itembrowse":"DYNAMIK JSON.parse(\"$Result\").file",
                        "itemlabel":"DYNAMIK (JSON.parse(\"$Result\").label.length > 28)?JSON.parse(\"$Result\").label.slice(28,99):\"\"",
                        "itemname":"DYNAMIK JSON.parse(\"$Result\").label.slice(0,28)",
                        "itemimage":"DYNAMIK (JSON.parse(\"$Result\").playcount != 0)?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//checkmark.jpg\":(JSON.parse(\"$Result\").filetype == \"directory\")?\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//Folder.jpg\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons//File.jpg\"",
                        "evalwrite":[{"variable":"VideoFile","value":"DYNAMIK JSON.parse(\"$Result\").file"}, 
                                    {"variable":"VideoDirectory6","value":"DYNAMIK JSON.parse(\"$Result\").file"},                                                                            
                                    {"variable":"VideoFileType","value":"DYNAMIK JSON.parse(\"$Result\").filetype"}],
                        "evalnext":[
                           {
                              "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"directory\")",      
                              "then":"VideoDirectory6"
                           },
                           {
                              "test":"DYNAMIK (JSON.parse(\"$Result\").filetype == \"file\")",      
                              "then":"VideoFilesPlay"
                           }  
                        ]}
               ]
               },                                                                                                                                                                                                                                    
            "VideoFilesPlay":{   
               "label":"A single video",
               "commandset":[
                  {
                     "type":"static",
                     "command":"{}",
                     "itemtype":"tile",
                     "itemaction":"",
                     "itemimage":"$VideoBanner"
                  },
                  {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"$",
                  "itemname":"Pause",
                  "itemaction": "Pause",
                  "itemtype":"button"
                  },                     {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"$",
                  "itemname":"Stop",
                  "itemaction": "Stop",
                  "itemtype":"button"
                  },
                  {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"",  
                  "itemlabel":"DYNAMIK \"$VideoFile\".slice(0,31)",
                  "itemname":"DYNAMIK (\"$VideoFile\".length > 31)?\"$VideoFile\".substr(\"$VideoFile\".length - 31):\"$VideoFile\"",
                  "itembrowse":"12",
                  "itemimage":"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons/play.jpg",
                  "itemaction":"Play"                  
                  }
               ]
            },  
            "Play":{   
               "label":"Play video file",
               "commandset":[
                  {"type":"webSocket", "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\",\"id\":\"VPlay\",\"params\":{\"item\":  {\"file\":\"$VideoFile\"},\"options\":{\"resume\":true}}}}",
                 "evalwrite":[{"variable":"PlayerID","value":1}]
                  } 
               ]
            },
            "Pause":{   
               "label":"Pause/Continue",
               "commandset":[
                  {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"Pause-Play\",\"method\":\"Player.PlayPause\", \"params\":{\"playerid\": 1}}}"
                  }
               ]
            },
            "Stop":{   
               "label":"Stop play",
               "commandset":[
                  {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"POWER-ON\",\"method\":\"Player.Stop\", \"params\":{\"playerid\": 1}}}",
                 "evalwrite":[{"variable":"PlayerID","value":0}]
                  }
               ]
            }   
         }
         },


         "Favorites":{
         "label":"Favorites list",
         "feeders":{
            "Favorites":{
               "label":"Favorites list",
               "commandset":[
               {
                  "type":"static",
                  "command":"{}",
                  "itemtype":"header",
                  "itemaction":"",
                  "itemname":"Favorites list"
               },
               {
               "type":"http-get",			
               "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"Favourites.GetFavourites\",\"id\":\"Favos\",\"params\":{\"properties\": [\"window\",\"path\",\"thumbnail\",\"windowparameter\"] }}",
               "queryresult":"$.result.favourites.*",
               "itemaction":"",
               "itemname":"DYNAMIK JSON.parse(\"$Result\").title",
               "itemlabel":"DYNAMIK (JSON.parse(\"$Result\").type!=undefined)?JSON.parse(\"$Result\").type:\"[empty]\"",
               "evalwrite":[{"variable":"FavoTitle","value":"DYNAMIK JSON.parse(\"$Result\").title"},
                              {"variable":"FavoType","value":"DYNAMIK JSON.parse(\"$Result\").type"},
                              {"variable":"FavoPath","value":"DYNAMIK JSON.parse(\"$Result\").path"},
                              {"variable":"FavoWindow","value":"DYNAMIK JSON.parse(\"$Result\").window"},                                  
                              {"variable":"FavoParm","value":"DYNAMIK JSON.parse(\"$Result\").windowparameter"}, 
                              {"variable":"FavoBanner","value": "DYNAMIK (JSON.parse(\"$Result\").thumbnail!=\"\")?\"http://$MyKODIIp:$MyKODIPort/image/\"+encodeURIComponent(JSON.parse(\"$Result\").thumbnail):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Album.jpg\""},
                              {"variable":"AlbumTitle","value":"DYNAMIK ((\"$FavoParm\".substr(0,8)==\"musicdb:\")&&(\"$FavoParm\".substr(10,6)==\"albums\"))?\"$FavoTitle\":\"$AlbumTitle\""}, 
                              {"variable":"Albumid","value":"DYNAMIK ((\"$FavoParm\".substr(0,8)==\"musicdb:\")&&(\"$FavoParm\".substr(10,6)==\"albums\"))?\"$FavoParm\".split('\/')[3]:\"$Albumid\""}, 
                              {"variable":"AlbumBanner","value":"DYNAMIK ((\"$FavoParm\".substr(0,8)==\"musicdb:\")&&(\"$FavoParm\".substr(10,6)==\"albums\"))?\"$FavoBanner\":\"$AlbumBanner\""},
                              {"variable":"MovieTitle","value":"DYNAMIK ((\"$FavoParm\".substr(0,8)==\"videodb:\")&&(\"$FavoParm\".substr(10,6)==\"movies\"))?\"$FavoTitle\":\"$MovieTitle\""}, 
                              {"variable":"Movieid","value":"DYNAMIK ((\"$FavoParm\".substr(0,8)==\"videodb:\")&&(\"$FavoParm\".substr(10,6)==\"movies\"))?\"$FavoParm\".split('\/')[3]:\"$Movieid\""}, 
                              {"variable":"MovieBanner","value":"DYNAMIK ((\"$FavoParm\".substr(0,8)==\"videodb:\")&&(\"$FavoParm\".substr(10,6)==\"movies\"))?\"$FavoBanner\":\"$MovieBanner\""}
                           ],
               "evalnext":[{"test":"DYNAMIK ((\"$FavoType\"==\"media\"))", "then":"FavoMedia"},
                           {"test":"DYNAMIK ((\"$FavoParm\".substr(0,8)==\"videodb:\")&&(\"$FavoTitle\".substr(10,6)==\"sets\"))", "then":"MovieSets"},
                           {"test":"DYNAMIK ((\"$FavoParm\".substr(0,8)==\"videodb:\")&&(\"$FavoParm\".substr(10,6)==\"movies\"))", "then":"FavoVideoDBMovie"},
                           {"test":"DYNAMIK ((\"$FavoParm\".substr(0,8)==\"videodb:\")&&(\"$FavoParm\".substr(10,7)==\"tvshows\"))", "then":"FavoVideoDBTVShow"},
                           {"test":"DYNAMIK ((\"$FavoParm\".substr(0,8)==\"musicdb:\")&&(\"$FavoParm\".substr(10,6)==\"albums\"))", "then":"AlbumSongs"},
                           {"test":"DYNAMIK ((\"$FavoType\"==\"window\")&&(\"$FavoWindow\"==\"music\")&&(\"$FavoParm\".substr(0,8)==\"musicdb:\"))", "then":"ActivateWindow","or":""} 
               ]
               }  
            ]   
            },
            "ActivateWindow":{
               "label":"ActivateWindow",
               "commandset":[
                  {"type":"http-rest",
                  "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"GUI.ActivateWindow\",\"id\":\"GUI.ActivateWindow\",\"params\":{\"window\":\"$FavoWindow\",\"parameters\":[\"$FavoParm\"]}}}",
                  "queryresult":""
               }  
               ]
            },
            "FavoMedia":{
               "label":"FavoMedia",
               "commandset":[
                  {"type":"http-rest",
                  "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\",\"id\":\"FavoMedia\",\"params\":{\"item\":{ \"file\": \"$FavoPath\" }}}}",
                  "queryresult":""
               }  
               ]
            },

            "FavoAudioDBAlbum":{
               "label":"ActivateWindow",
               "commandset":[
                  {"type":"http-rest",
                  "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"GUI.ActivateWindow\",\"id\":\"GUI.ActivateWindow\",\"params\":{\"window\":\"$FavoWindow\",\"parameters\":[\"$FavoParm\"]}}}",
                  "queryresult":""
               }  
               ]
            },
            "FavoVideoDBTVShow":{
               "label":"ActivateWindow",
               "commandset":[
                  {"type":"http-rest",
                  "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"GUI.ActivateWindow\",\"id\":\"GUI.ActivateWindow\",\"params\":{\"window\":\"$FavoWindow\",\"parameters\":[\"$FavoParm\"]}}}",
                  "queryresult":""
               }  
               ]
            },
            "FavoVideoDBMovie":{
                  "label":"A single movie",
                  "commandset":[
                     {
                     "type":"static",
                     "command":"{}",
                     "itemtype":"tile",
                     "itemaction":"",
                     "itemimage":"$MovieBanner"
                     }, 
                     {
                     "type":"http-get",			
                     "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"VideoLibrary.GetMovieDetails\",\"id\":\"movieinfo\", \"params\":{\"movieid\":$Movieid,\"properties\": [\"plot\"]}}",
                     "queryresult":"$.result.moviedetails.plot",
                     "itemname":"Plot for $MovieTitle",
                     "itemlabel":"$Result",
                     "itemtype":"info"
                     },
                     {
                     "type":"static",
                     "command":"{}",
                     "queryresult":"",
                     "itemname":"$MovieTitle",
                     "itemlabel":"$MovieTitle",
                     "itembrowse":"12",
                     "itemimage":"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons/play.jpg",
                     "itemaction":"PlayMovie"                  
                     },
                     {
                     "type":"static",
                     "command":"{}",
                     "queryresult":"$",
                     "itemname":"Pause",
                     "itemaction": "PauseMovie",
                     "itemtype":"button"
                     },      
                     {
                     "type":"static",
                     "command":"{}",
                     "queryresult":"$",
                     "itemname":"Stop",
                     "itemaction": "StopMovie",
                     "itemtype":"button"
                     }

                  ]
            },  
            "PlayMovie":{   
               "label":"Play a movie",
               "commandset":[
                  {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\",\"id\":\"MOVIEP\",\"params\":{\"item\":  {\"movieid\":$Movieid}}}}",
                  "evalwrite":[{"variable":"PlayerID","value":1}]
                  } 
               ]
            },
            "PauseMovie":{   
               "label":"Pause/Continue",
               "commandset":[
                  {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"Pause-Play\",\"method\":\"Player.PlayPause\", \"params\":{\"playerid\": 1}}}"
                  }
               ]
            },               
            "StopMovie":{   
               "label":"Stop play",
               "commandset":[
                  {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"POWER-ON\",\"method\":\"Player.Stop\", \"params\":{\"playerid\": 1}}}",  
               "evalwrite":[{"variable":"PlayerID","value":0}]
                  }
               ]
                           
            }
            }
         },  
         "Music":  
         {"label":"Music",
         "feeders":{
            "Music":{
               "label":"Album list",
               "commandset":[
               {
                  "type":"static",
                  "command":"{}",
                  "itemtype":"header",
                  "itemaction":"",
                  "itemname":"ArtistFilter = $ArtistSearch"
               },          
               {
                  "type":"static",
                  "command":"{}",
                  "itemtype":"header",
                  "itemaction":"",
                  "itemname":"AlbumFilter = $AlbumSearch"
               },       
               {"type":"static",
               "command":"[{\"name\":\"Music Playlists\", \"label\":\"Show music playlists\", \"imageurl\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Favo.png\"}]",
                  "queryresult":"$.*", "itemname":"DYNAMIK JSON.parse(\"$Result\").name", "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label", "itemimage":"DYNAMIK JSON.parse(\"$Result\").imageurl",
                  "evalwrite":[{"variable":"Filter","value":""}],
                  "evalnext":[{"test":true, "then":"MusicPlayLists", "or":""}]
               },
               {"type":"static",
               "command":"[{\"name\":\"Show artists\", \"label\":\"Show all artists\", \"imageurl\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Person.jpg\"}]",
                  "queryresult":"$.*", "itemname":"DYNAMIK JSON.parse(\"$Result\").name", "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label", "itemimage":"DYNAMIK JSON.parse(\"$Result\").imageurl",
                  "evalwrite":[{"variable":"ArtistFilter","value":"\"filter\": {\"field\": \"artist\", \"operator\": \"startswith\", \"value\": \"$ArtistSearch\"},"}],
                  "evalnext":[{"test":true, "then":"Artists", "or":""}]
               },
               {"type":"static",
               "command":"[{\"name\":\"Show albums\", \"label\":\"Show all albums\", \"imageurl\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Album.jpg\"}]",
                  "queryresult":"$.*", "itemname":"DYNAMIK JSON.parse(\"$Result\").name", "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label", "itemimage":"DYNAMIK JSON.parse(\"$Result\").imageurl",
                  "evalwrite":[{"variable":"AlbumFilter","value":"{\"filter\":{\"field\": \"album\", \"operator\": \"startswith\", \"value\": \"$AlbumSearch\"},"}],
                  "evalnext":[{"test":true, "then":"Albums", "or":""}]
               },
               {"type":"static",
                  "command":"[{\"name\":\"Create artist filter\", \"label\":\"Create custom filter\", \"imageurl\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Search.jpg\"}]", 
                     "queryresult":"$.*", "itemname":"DYNAMIK JSON.parse(\"$Result\").name", "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label", "itemimage":"DYNAMIK JSON.parse(\"$Result\").imageurl",
                     "evalwrite":[{"variable":"KEYBOARDSEARCH","value":""},
                                 {"variable":"ArtistSearch","value":""},
                                 {"variable":"ArtistFilter","value":""}],
                     "evalnext":[{"test":true, "then":"Custom artist filter", "or":""}]
                  },
               {"type":"static",
                  "command":"[{\"name\":\"Create album filter\", \"label\":\"Create custom filter\", \"imageurl\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Search.jpg\"}]", 
                     "queryresult":"$.*", "itemname":"DYNAMIK JSON.parse(\"$Result\").name", "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label", "itemimage":"DYNAMIK JSON.parse(\"$Result\").imageurl",
                     "evalwrite":[{"variable":"KEYBOARDSEARCH","value":""},
                                 {"variable":"AlbumFilter","value":""},
                                 {"variable":"AlbumSearch","value":""}],
                     "evalnext":[{"test":true, "then":"Custom album filter", "or":""}]
                  },
                  {"type":"static",
                  "command":"[{\"name\":\"Show favorites\", \"label\":\"Show your favorites\", \"imageurl\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Favo.png\"}]",
                     "queryresult":"$.*", "itemname":"DYNAMIK JSON.parse(\"$Result\").name", "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label", "itemimage":"DYNAMIK JSON.parse(\"$Result\").imageurl",
                     "evalwrite":[{"variable":"Filter","value":""}],
                     "evalnext":[{"test":true, "then":"Favorites", "or":""}]
                  }
               ]               
            },  
            "Custom artist filter":{"label":"Custom artist filter",
               "commandset":[                
               {
                  "type":"http-get","itemtype":"keyboardsearch",
                  "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\": \"2.0\", \"method\": \"AudioLibrary.GetArtists\", \"params\": { \"limits\": { \"start\" : 0, \"end\": 99999}, \"properties\":[\"sortname\"], \"sort\": { \"order\": \"ascending\", \"method\": \"artist\", \"ignorearticle\": false } }, \"id\": \"List artists for search\"}",
                  "queryresult":"$.result.artists.[*].artist",
                  "itemaction":"{}",
                  "itemui":"reload",
                  "itemname":"$Result",
                  "itemlabel":"$Result",
                  "itemimage":"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Person.jpg",
                  "evalwrite":[{"variable":"KEYBOARDSEARCH","value":"$Result"},
                               {"variable":"KEYBOARDSEARCH","value":"$Result"},
                               {"variable":"ArtistSearch","value":"$Result"}
                  ]
               }
               ] 
            }, 
            "Custom album filter":{"label":"Custom album filter",
               "commandset":[                
               {
                  "type":"http-get","itemtype":"keyboardsearch",
                  "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\": \"2.0\", \"method\": \"AudioLibrary.GetAlbums\", \"params\": { \"limits\": { \"start\" : 0, \"end\": 99900}, \"properties\":[\"albumlabel\"], \"sort\": { \"order\": \"ascending\", \"method\": \"album\", \"ignorearticle\": false } }, \"id\": \"List albums for search\"}",
                  "queryresult":"$.result.albums.[*].label",
                  "itemaction":"{}",
                  "itemui":"reload",
                  "itemname":"$Result",
                  "itemlabel":"$Result",
                  "itemimage":"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Person.jpg",
                  "evalwrite":[{"variable":"KEYBOARDSEARCH","value":"$Result"},
                               {"variable":"AlbumSearch","value":"$Result"}

                  ]
               }
               ] 
            }, 
            "MusicPlayLists":{
               "label":"PlayLists Music",
               "commandset":[
                  {
                     "type":"static",
                     "command":"{}",
                     "itemtype":"header",
                     "itemaction":"",
                     "itemname":"PlayLists list"
                  },
                  {
                  "type":"http-get",			                                                 
                  "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"Files.GetDirectory\",\"id\":\"GetPlaylists\",\"params\":{\"directory\":\"special://musicplaylists\"}}",
                  "queryresult":"$.result.files.*",
                  "itemaction":"PlayMyPlaylist",
                  "itembrowse":"DYNAMIK JSON.parse(\"$Result\").file",
                  "itemname":"DYNAMIK JSON.parse(\"$Result\").label",
                  "itemlabel":"DYNAMIK (JSON.parse(\"$Result\").label!=undefined)?JSON.parse(\"$Result\").label:\"[empty]\"",
                  "itemimage":"DYNAMIK (JSON.parse(\"$Result\").thumbnail!=\"\")?\"http://$MyKODIIp:$MyKODIPort/image/\"+encodeURIComponent(JSON.parse(\"$Result\").thumbnail):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Album.jpg\"",
                  "evalwrite":[{"variable":"MyPlaylistTitle","value":"DYNAMIK JSON.parse(\"$Result\").label"},
                                 {"variable":"MyPlaylistFile","value":"DYNAMIK JSON.parse(\"$Result\").file"}], 
                  "vevalnext":[{"test":true, "then":"PlayMyPlaylist","or":""}
                  ]
                  }  
               ]
               },
            "PlayMyPlaylist":{   
               "label":"Play audio",
               "commandset":[
                  {
                  "type":"http-rest","command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\",\"id\":\"PlayMyPlaylist\",\"params\":{\"item\":{\"directory\":\"$MyPlaylistFile\"}}}}",
                  "evalnext":[{"test":true, "then":"Custom artist filter", "or":""}]
                  }
               ]
            },
            "Albums":{
               "label":"Album list",
               "commandset":[
                  {
                     "type":"static",
                     "command":"{}",
                     "itemtype":"header",
                     "itemaction":"",
                     "itemname":"$AlbumHeader"
                  },
                  {
                  "type":"http-get",			
                  "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"AudioLibrary.GetAlbums\",\"id\":\"Albums\",\"params\":$AlbumFilter\"properties\":[\"title\",\"playcount\",\"thumbnail\",\"artist\"],\"sort\":{\"order\":\"ascending\",\"method\":\"title\",\"ignorearticle\": true }}}",
                  "queryresult":"$.result.albums.*",
                  "itemaction":"",
                  "itembrowse":"DYNAMIK JSON.parse(\"$Result\").title",
                  "itemname":"DYNAMIK JSON.parse(\"$Result\").title",
                  "itemlabel":"DYNAMIK (JSON.parse(\"$Result\").artist!=undefined)?JSON.parse(\"$Result\").artist[0]:\"[empty]\"",
                  "itemimage":"DYNAMIK (JSON.parse(\"$Result\").thumbnail!=\"\")?\"http://$MyKODIIp:$MyKODIPort/image/\"+encodeURIComponent(JSON.parse(\"$Result\").thumbnail):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Album.jpg\"",
                  "evalwrite":[{"variable":"AlbumTitle","value":"DYNAMIK JSON.parse(\"$Result\").label"},
                                 {"variable":"Albumid","value":"DYNAMIK JSON.parse(\"$Result\").albumid"}, 
                                 {"variable":"AlbumHeader","value":"DYNAMIK JSON.parse(\"$Result\").title"}, 
                                 {"variable":"ArtistName","value":"DYNAMIK (JSON.parse(\"$Result\").artist!=undefined)?JSON.parse(\"$Result\").artist[0]:\"[empty]\""}, 
                                 {"variable":"AlbumBanner","value": "DYNAMIK (JSON.parse(\"$Result\").thumbnail!=\"\")?\"http://$MyKODIIp:$MyKODIPort/image/\"+encodeURIComponent(JSON.parse(\"$Result\").thumbnail):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Album.jpg\""}
                              ],
                  "evalnext":[{"test":true, "then":"Albumdialog","or":""}
                  ]
                  }  
               ]
            },
            "Albumdialog":{
               "label":"Albumdialog",
               "commandset":[
               {
                  "type":"static",
                  "command":"{}",
                  "itemtype":"header",
                  "itemaction":"",
                  "itemname":"Album $AlbumHeader"
               },
               {
                  "type":"static",
                  "command":"{}",
                  "itemtype":"tile",
                  "itemaction":"AlbumPlay",
                  "itemimage":"$AlbumBanner"
                  },
               {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"$",
                  "itemUI":false,
                  "itemname":"Queue Album",
                  "itemaction": "AlbumQueueToPlaylist",
                  "itemtype":"button"                     
               },
               {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"$",
                  "itemUI":false,
                  "itemname":"Stop",
                  "itemaction": "Stop",
                  "itemtype":"button"                     
                  },
                  {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"$",
                  "itemUI":false,
                  "itemname":"Pause",
                  "itemaction": "Pause",
                  "itemtype":"button"                     
                  },
                  {"type":"static",
                  "command":"[{\"name\":\"Show songs of album\", \"label\":\"Show songs of album\", \"imageurl\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Search.jpg\"}]", 
                     "queryresult":"$.*", "itemname":"DYNAMIK JSON.parse(\"$Result\").name", "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label", "itemimage":"DYNAMIK JSON.parse(\"$Result\").imageurl",
                     "evalwrite":[{"variable":"KEYBOARDSEARCH","value":""}],
                     "evalnext":[{"test":true, "then":"AlbumWithSongs", "or":""}]
                  }
               ]
            },
            "AlbumWithSongs":{
               "label":"AlbumWithSongs",
               "commandset":[
               {
                  "type":"static",
                  "command":"{}",
                  "itemtype":"header",
                  "itemaction":"",
                  "itemname":"All Songs of $AlbumHeader"
               },
               {
                  "type":"static",
                  "command":"{}",
                  "itemtype":"tile",
                  "itemaction":"AlbumPlay",
                  "itemimage":"$AlbumBanner"
                  },
               {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"$",
                  "itemUI":false,
                  "itemname":"Queue Album",
                  "itemaction": "AlbumQueueToPlaylist",
                  "itemtype":"button"                     
               },
               {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"$",
                  "itemUI":false,
                  "itemname":"Stop",
                  "itemaction": "Stop",
                  "itemtype":"button"                     
                  },
                  {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"$",
                  "itemUI":false,
                  "itemname":"Pause",
                  "itemaction": "Pause",
                  "itemtype":"button"                     
                  },
                  {
                     "type":"http-get",			
                     "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"AudioLibrary.GetSongs\",\"id\":\"Albumsongs-dir\",\"params\":{\"filter\":{\"albumid\":$Albumid},\"properties\":[\"duration\",\"track\",\"thumbnail\",\"playcount\",\"artist\",\"albumid\",\"title\",\"file\",\"fanart\"],\"sort\":{\"order\":\"ascending\",\"method\":\"track\",\"ignorearticle\":false}}}",
                     "queryresult":"$.result.songs.*",
                     "itemaction":"",
                     "itembrowse":"DYNAMIK (JSON.parse(\"$Result\").label!=undefined)?JSON.parse(\"$Result\").label:\"[empty label]\"",
                     "itemlabel": "DYNAMIK (JSON.parse(\"$Result\").artist!=undefined)?JSON.parse(\"$Result\").artist[0]:\"[empty artist]\"",
                     "itemname":"DYNAMIK (JSON.parse(\"$Result\").label!=undefined)?JSON.parse(\"$Result\").label:\"17\"",
                     "evalwrite":[{"variable":"SongTitle","value":"DYNAMIK JSON.parse(\"$Result\").label"},
                                    {"variable":"Songid","value":"DYNAMIK JSON.parse(\"$Result\").songid"}, 
                                    {"variable":"SongBanner","value": "$AlbumBanner"},
                                    {"variable":"ArtistName","value":"$ArtistName"}
                                 ],
                     "evalnext":[{"test":true, "then":"SongDialog","or":""}]
                  }
               ]
            },            
            "Songs":{
               "label":"Song list",
                  "commandset":[
                     {
                     "type":"static",
                     "command":"{}",
                     "itemtype":"header",
                     "itemaction":"",
                     "itemname":"Song on album $Albumid}"
                     },
                     {
                        "type":"http-get",			
                        "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"AudioLibrary.GetSongs\",\"id\":\"ALBUMSONGSx\",\"params\":{\"filter\":{\"albumid\":$Albumid},\"properties\":[\"duration\",\"track\",\"thumbnail\",\"playcount\",\"artist\",\"albumid\",\"file\",\"fanart\"],\"sort\":{\"order\":\"ascending\",\"method\":\"track\",\"ignorearticle\":false}}}",
                        "queryresult":"$.result.songs.*",
                        "itemaction":"",
                        "itembrowse":"DYNAMIK JSON.parse(\"$Result\").songid",
                        "itemlabel": "DYNAMIK JSON.parse(\"$Result\").label",
                        "itemname":"DYNAMIK JSON.parse(\"$Result\").label",
                        "evalwrite":[{"variable":"SongTitle","value":"DYNAMIK JSON.parse(\"$Result\").label"},
                                       {"variable":"Songid","value":"DYNAMIK JSON.parse(\"$Result\").songid"}, 
                                       {"variable":"SongBanner","value": "$AlbumBanner"},
                                       {"variable":"ArtistName","value":"DYNAMIK JSON.parse(\"$Result\").artist"}
                                    ],
                        "evalnext":[{"test":true, "then":"SongDialog","or":""}]
                     }                     
                  ]
               },            
            "AlbumPlay":{   
               "label":"Add album to playlist",
               "commandset":[
               {
               "type":"static",
               "command":"{}",
               "itemtype":"header",
               "itemaction":"",
               "itemname":"Manage playlist"
               },
               {"type":"webSocket",
                  "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"Stop-musicplay\",\"method\":\"Player.Stop\", \"params\":{\"playerid\": 0}}}"},    
               {"type":"webSocket",			
                  "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Playlist.Clear\",\"id\":\"ClearPlayList\",\"params\":{\"playlistid\": 0}}}"},
               {"type":"webSocket",
                  "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Playlist.Add\", \"id\":\"AlbumPlay\",\"params\": {\"playlistid\": 0, \"item\": [{ \"albumid\": $Albumid}]} }}"},
               {"type":"webSocket",
                  "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\", \"params\": {\"item\": {\"playlistid\": 0}}}}"}
                  ]
            },               
            "Artists":{
            "label":"Artist list",
               "commandset":[
                  {
                  "type":"static",
                  "command":"{}",
                  "itemtype":"header",
                  "itemaction":"",
                  "itemname":"Artist list"
                  },
                  {
                  "type":"http-get",			
                  "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"AudioLibrary.GetArtists\",\"id\":\"List Artists\",\"params\":{$ArtistFilter\"properties\":[\"thumbnail\"],\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\": true }}}",
                  "queryresult":"$.result.artists.*",
                  "itemaction":"",
                  "itembrowse":"DYNAMIK JSON.parse(\"$Result\").artistid",
                  "itemname":"DYNAMIK JSON.parse(\"$Result\").label",
                  "itemlabel":"DYNAMIK (JSON.parse(\"$Result\").label!=undefined)?JSON.parse(\"$Result\").label:\"[empty]\"",
                  "itemimage":"DYNAMIK (JSON.parse(\"$Result\").thumbnail!=\"\")?\"http://$MyKODIIp:$MyKODIPort/image/\"+encodeURIComponent(JSON.parse(\"$Result\").thumbnail):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Person.jpg\"",
                  "evalwrite":[
                                 {"variable":"ArtistName","value":"DYNAMIK JSON.parse(\"$Result\").artist"},
                                 {"variable":"Artistid","value":"DYNAMIK JSON.parse(\"$Result\").artistid"},
                                 {"variable":"ArtistBanner","value":"DYNAMIK (JSON.parse(\"$Result\").thumbnail!=\"\")?\"http://$MyKODIIp:$MyKODIPort/image/\"+encodeURIComponent(JSON.parse(\"$Result\").thumbnail):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Person.jpg\""}
                              ],
                  "evalnext":[{"test":true, "then":"ChoiceSongsOrAlbums","or":""}
                  ]
                  }  
               ]
            },
            "ChoiceSongsOrAlbums":{   
               "label":"Choose song or album",
               "commandset":[
                  {
                  "type":"static",
                  "command":"{}",
                  "itemtype":"header",
                  "itemaction":"",
                  "itemname":"Open songs or albums"
                  },
                  {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"", 
                  "itemtype":"tile",
                  "itemaction":"",
                  "itemimage":"$ArtistBanner"
                  },
                  {
                  "type":"static",
                  "command":"[{\"name\":\"Show Songs\", \"label\":\"Show songs of this artist\", \"imageurl\":\"$ArtistBanner\",\"navigation\":\"ArtistSongs\"}]", 
                     "queryresult":"$.*", "itemname":"DYNAMIK JSON.parse(\"$Result\").name", "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label", "itemimage":"DYNAMIK JSON.parse(\"$Result\").imageurl",
                     "evalnext":[{"test":true, "then":"ArtistSongs", "or":""}]
                  },                  
                  {
                     "type":"static",
                     "command":"[{\"name\":\"Show Albums FROM\", \"label\":\"Show albums _from this artist\", \"imageurl\":\"$ArtistBanner\",\"navigation\":\"ArtistSongs\"}]", 
                        "queryresult":"$.*", "itemname":"DYNAMIK JSON.parse(\"$Result\").name", "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label", "itemimage":"DYNAMIK JSON.parse(\"$Result\").imageurl",
                        "evalwrite":[
                           {"variable":"AlbumFilter","value":"{\"filter\":{\"field\":\"albumartist\",\"operator\":\"is\",\"value\":\"$ArtistName\"},"},
                           {"variable":"AlbumHeader","value":"Show albums FROM $ArtistName"}
                        ],
                        "evalnext":[{"test":true, "then":"Albums", "or":""}]
                     },   
                     {
                        "type":"static",
                        "command":"[{\"name\":\"Show Albums WITH\", \"label\":\"Show albums _with this artist\", \"imageurl\":\"$ArtistBanner\",\"navigation\":\"ArtistSongs\"}]", 
                           "queryresult":"$.*", "itemname":"DYNAMIK JSON.parse(\"$Result\").name", "itemlabel":"DYNAMIK JSON.parse(\"$Result\").label", "itemimage":"DYNAMIK JSON.parse(\"$Result\").imageurl",
                           "evalwrite":[
                              {"variable":"AlbumFilter","value":"{\"filter\":{\"field\":\"artist\",\"operator\":\"is\",\"value\":\"$ArtistName\"},"},
                              {"variable":"AlbumHeader","value":"Show albums WITH $ArtistName"}
                           ],
                           "evalnext":[{"test":true, "then":"Albums", "or":""}]
                        }   
                  ]
            },
            "ArtistSongs":{
               "label":"Song list",
               "commandset":[
                  {
                  "type":"static",
                  "command":"{}",
                  "itemtype":"header",
                  "itemaction":"",
                  "itemname":"Song list"
                  },
               {
                  "type":"static",
                  "command":"{}",
                  "itemtype":"tile",
                  "itemaction":"",
                  "itemimage":"$ArtistBanner"
                  },
                  {               
                  "label":"Song list",
                  "type":"http-get",			
                  "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"AudioLibrary.GetSongs\",\"id\":\"ArtistSongs\",\"params\":{\"filter\":{\"artistid\":$Artistid},\"properties\":[\"duration\",\"track\",\"thumbnail\",\"playcount\",\"artist\",\"fanart\"],\"sort\":{\"order\":\"ascending\",\"method\":\"label\",\"ignorearticle\":false}}}",
                  "queryresult":"$.result.songs.*",
                  "itemaction":"",
                  "itembrowse":"DYNAMIK (JSON.parse(\"$Result\").label!=undefined)?JSON.parse(\"$Result\").label:\"[empty label]\"",
                  "itemlabel": "$ArtistName",
                  "itemname":"DYNAMIK (JSON.parse(\"$Result\").label!=undefined)?JSON.parse(\"$Result\").label:\"17\"",
                  "itemimage": "DYNAMIK (JSON.parse(\"$Result\").thumbnail!=\"\")?\"http://$MyKODIIp:$MyKODIPort/image/\"+encodeURIComponent(JSON.parse(\"$Result\").thumbnail):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Song.jpg\"",
                  "evalwrite":[{"variable":"SongTitle","value":"DYNAMIK JSON.parse(\"$Result\").label"},
                                 {"variable":"Songid","value":"DYNAMIK JSON.parse(\"$Result\").songid"}, 
                                 {"variable":"SongBanner","value": "DYNAMIK (JSON.parse(\"$Result\").thumbnail!=\"\")?\"http://$MyKODIIp:$MyKODIPort/image/\"+encodeURIComponent(JSON.parse(\"$Result\").thumbnail):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Song.jpg\""}
                              ],
                  "evalnext":[{"test":true, "then":"SongDialog","or":"SongDialog"}]
               }
               ]
            },
            "SongDialog":{   
               "label":"A single song",
               "commandset":[
                  {
                  "type":"static",
                  "command":"{}",
                  "itemtype":"header",
                  "itemaction":"",
                  "itemname":"Song to playlist"
                  },
                  {
                  "type":"static",
                  "command":"{}",
                  "itemtype":"tile",
                  "itemaction":"",
                  "itemimage":"$SongBanner"
                  },
                  {
                  "type":"static",
                  "command":"[{\"name\":\"$SongTitle\", \"label\":\"$ArtistName\",\"songid\":\"$Songid\"}]", 
                     "queryresult":"$.*", "itemname":"DYNAMIK JSON.parse(\"$Result\").name", "itemaction":"Play","itemlabel":"DYNAMIK JSON.parse(\"$Result\").label", "itemimage":"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons/play.jpg",
                     "evalwrite":[{"variable":"SongTitle","value":"DYNAMIK JSON.parse(\"$Result\").label"},
                     {"variable":"Songid","value":"DYNAMIK JSON.parse(\"$Result\").songid"}, 
                     {"variable":"SongBanner","value": "DYNAMIK (JSON.parse(\"$Result\").thumbnail!=\"\")?\"http://$MyKODIIp:$MyKODIPort/image/\"+encodeURIComponent(JSON.parse(\"$Result\").thumbnail):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Song.jpg\""}
                     ],
                     "evalnext":[{"test":true, "then":"Play","or":"Play"}]
                  },
                  {
                  "type":"static",
                  "command":"[{\"name\":\"Queue this song\", \"label\":\"\", \"imageurl\":\"\"}]", 
                     "queryresult":"$.*", "itemname":"DYNAMIK JSON.parse(\"$Result\").name", "itemaction":"SongQueueToPlaylist","itemlabel":"DYNAMIK JSON.parse(\"$Result\").label", "itemimage":"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons/Queue.jpg"
                  },               
                  {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"$",
                  "itemUI":false,
                  "itemname":"Stop",
                  "itemaction": "Stop",
                  "itemtype":"button"                     
                  },
                  {
                     "type":"static",
                     "command":"{}",
                     "queryresult":"$",
                     "itemUI":false,
                     "itemname":"Play",
                     "itemaction": "Play",
                     "itemtype":"button"                     
                     },

                  {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"$",
                  "itemUI":false,
                  "itemname":"Pause",
                  "itemaction": "Pause",
                  "itemtype":"button"                     
                  }   
               ]
            },   
            "AlbumQueueToPlaylist":{   
               "label":"Play album",
               "commandset":[
                  {"type":"webSocket",			
                  "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Playlist.Add\", \"id\":\"AddAlbumToPlayList\",\"params\": {\"playlistid\": 0, \"item\": [{ \"albumid\": $Albumid}]} }}"}
               ]
            },               
            "SongQueueToPlaylist":{   
               "label":"Add album to playlist",
               "commandset":[
                  {"type":"webSocket",
                  "command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Playlist.Add\", \"id\":\"AddPlayList\",\"params\": {\"playlistid\": 0, \"item\": [{ \"songid\": $Songid}]} }}"}
                  ]
            },               
            "Stop":{   
               "label":"Stop play",
               "commandset":[
                  {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"Stop-musicplay\",\"method\":\"Player.Stop\", \"params\":{\"playerid\": 0}}}",  
                  "evalwrite":[{"variable":"PlayerID","value":0}]
                  }
               ]
            },               
            "Pause":{   
               "label":"Pause/Continue",
               "commandset":[
                  {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"Pause-Play\",\"method\":\"Player.PlayPause\", \"params\":{\"playerid\": 0}}}",  
                  "evalwrite":[{"variable":"PlayerID","value":0}]
                  }
               ]
            },               
            "Play":{   
               "label":"Play audio",
               "commandset":[ 
                  {"type":"webSocket","command":"{\"connection\": \"ws://$MyKODIIp:$RPCPort\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\",\"id\":\"AlbumP\",\"params\":{\"item\":  {\"songid\":$Songid}}}}",
                     "evalwrite":[{"variable":"PlayerID","value":1}]
                  } 
               ]
               },
            "PlayPlaylist":{   
               "label":"Play audio",
               "commandset":[
                  {"type":"http-get",			
                  "command":"http://$MyKODIIp:$MyKODIPort/jsonrpc?request={\"jsonrpc\":\"2.0\",\"method\":\"Player.Open\", \"params\": {\"item\": {\"playlistid\": 0}}}"}
               ]
            }
         }
         },

         "Playlist":  
         {"label":"Playlist",
         "feeders":{
            "Content":{
            "label":"Playlist content",
            "commandset":[
               {
               "type":"static",
               "command":"{}",
               "itemtype":"header",
               "itemaction":"",
               "itemname":"DYNAMIK (\"$ItemToMove\"==\"\")?\"Content of playlist\":\"Pick entry to place item $ItemToMove\""
               },
               {"type":"http-rest",			
               "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Playlist.GetItems\",\"id\":\"GetPlayList\",  \"params\": { \"properties\": [\"title\", \"album\",  \"artist\", \"duration\",\"thumbnail\"], \"playlistid\": 0 } }}",
                  "queryresult":"$.result.items.*",
               "itemaction":"","itemui":"reload", 
               "itemname":"DYNAMIK JSON.parse(\"$Result\").label",
               "itemlabel":"DYNAMIK (JSON.parse(\"$Result\").artist!=undefined)?JSON.parse(\"$Result\").artist[0]:\"[empty]\"",
               "itemimage":"DYNAMIK (JSON.parse(\"$Result\").thumbnail!=\"\")?\"http://$MyKODIIp:$MyKODIPort/image/\"+encodeURIComponent(JSON.parse(\"$Result\").thumbnail):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Person.jpg\"",
               "evalwrite":[{"variable":"PlaylistEntry","value":"$Result"}, 
                           {"variable":"AlbumTitle","value":"DYNAMIK JSON.parse(\"$Result\").album"},
                           {"variable":"Songid","value":"DYNAMIK JSON.parse(\"$Result\").songid"},
                           {"variable":"SongTitle","value":"DYNAMIK (JSON.parse(\"$Result\").title!=undefined)?JSON.parse(\"$Result\").title:\"[empty]\""}, 
                           {"variable":"Listindex","value":"DYNAMIK ($ListIndex)-1"}, 
                           {"variable":"SongBanner","value": "DYNAMIK (JSON.parse(\"$Result\").thumbnail!=\"\")?\"http://$MyKODIIp:$MyKODIPort/image/\"+encodeURIComponent(JSON.parse(\"$Result\").thumbnail):\"https://raw.githubusercontent.com/Ton-o/meta-kodi/main/Icons/Person.jpg\""},
                           {"variable":"ArtistName","value":"DYNAMIK (JSON.parse(\"$Result\").artist!=undefined)?JSON.parse(\"$Result\").artist[0]:\"[empty]\""}
                           ],
               "evalnext":[{"test":true, "then":"PlaylistDialog","or":""}
               ]
               }  
            ]
            },
            "PlaylistDialog":{   
               "label":"Manage playlist",
               "commandset":[
                  {
                  "type":"static",
                  "command":"{}",
                  "itemtype":"header",
                  "itemaction":"",
                  "itemname":"Manage playlist"
                  },
                  {
                  "type":"static",
                  "command":"{}",
                  "itemtype":"tile",
                  "itemaction":"",
                  "itemimage":"$SongBanner"
                  },
                  {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"",
                  "itemname":"$SongTitle",
                  "itemlabel":"$ArtistName",
                  "itemimage":"",
                  "itemaction":""                  
                  },
                  {
                  "type":"static",
                  "command":"[{\"name\":\"\", \"label\":\"Move this item\", \"imageurl\":\"https://raw.githubusercontent.com/Ton-o/meta-kodi/master/Icons/play.jpg\"}]", 
                  "queryresult":"$.*", "itemaction":"DYNAMIK (\"$MoveOrPlaceSong\"==\"Move song\")?\"PickUpPLEntry\":\"PlacePLEntry\"",
                  "itemUI":"goBack","itemname":"\"$MoveOrPlaceSong\"","itemlabel":"\"$MoveOrPlaceSong\"", "itemimage":"DYNAMIK JSON.parse(\"$Result\").imageurl",
                  "evalwrite":[{"variable":"ItemToMove",     "value":"DYNAMIK (\"$MoveOrPlaceSong\"==\"Move song\")?\"$Listindex\":\"$ItemToMove\""},
                               {"variable":"MoveOrPlaceSong","value":"DYNAMIK (\"$MoveOrPlaceSong\"==\"Move song\")?\"Place song $Listindex\":\"Move song\""},
                     {"variable":"MYRESULT","value":"PlaylistDialog"}]
                  },
                  {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"$",
                  "itemname":"$MoveOrPlaceSong",
                  "itemUI":"goBack",
                  "itemaction": "DYNAMIK (\"$MoveOrPlaceSong\" == \"Move song\")?\"PickUpPLEntry\":\"PlacePLEntry\"",
                  "itemtype":"button"   
                  },                  
                  {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"$",
                  "itemname":"Remove Song",
                  "itemUI":"goBack",
                  "itemaction": "RemovePLEntry",
                  "itemtype":"button"
                  },                  
                  {
                  "type":"static",
                  "command":"{}",
                  "queryresult":"$",
                  "itemUI":"goBack",
                  "itemname":"Start here",
                  "itemaction": "StartAtPLEntry",
                  "itemtype":"button"                     
                  }
               ]
            },   
            "`RemovePLEntry`":{
               "label":"",
               "commandset":[     
               {"type":"http-rest",			
               "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Playlist.Remove\",\"id\":\"RemovePLEntry\",  \"params\": {  \"playlistid\": 0, \"position\":  $Listindex } }}",
               "evalwrite":[{"variable":"MYRESULT","value":"DELETED $Listindex"},
               {"variable":"MYRESULT","value":"RemovePLEntry"}]
               }
               ],"itemUI":"goback"
            },
            "PickUpPLEntry":{
               "label":"","commandset":[
               {"type":"static",
               "command":"{}"}
               ]
            },
            "PlacePLEntry":{
               "label":"",
               "commandset": [
               {"type":"http-rest",
                  "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Playlist.Insert\", \"id\":\"AddDummyPlayList\",\"params\": {\"playlistid\": 0, \"item\": {\"songid\":$JustASongid},\"position\":$Listindex}}}",
                  "queryresult":"",
                  "evalwrite":[{"variable":"MYRESULT","value":"PlacePLEntry"},
                                 {"variable":"ItemToMove","value":"DYNAMIK  ($ItemToMove < $Listindex)?$ItemToMove:$ItemToMove+1"}]
               },
               {"type":"http-rest",
                  "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Playlist.Swap\", \"id\":\"SwapPlayList\",\"params\": {\"playlistid\": 0, \"position1\":$ItemToMove,\"position2\":$Listindex}}}", 
                  "queryresult":"",
                  "evalwrite":[{"variable":"MYRESULT","value":"$Result"}]
               },

               {"type":"http-rest",			
                  "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\", \"message\":{\"jsonrpc\":\"2.0\",\"method\":\"Playlist.Remove\",\"id\":\"DelDummy\",  \"params\": {  \"playlistid\": 0, \"position\":  $ItemToMove } }}"
               },
               {"type":"static",			
                  "command":"{}",
                  "evalwrite":[{"variable":"ItemToMove","value":-1},
                     {"variable":"MoveOrPlaceSong","value":"Move song"},
                     {"variable":"ItemToMove","value":""}],
                     "itemUI":"goBack"
               }

               ]
         },
            "StartAtPLEntry":
               {"label":"Start playing a playlist at a given point",
                  "commandset":[     
                     {"type":"http-rest",			
                        "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"Stop-musicplay\",\"method\":\"Player.Stop\", \"params\":{\"playerid\": 0}}}",  
                        "queryresult":"$",
                        "evalwrite":[{"variable":"StartPlaylist","value":""},
                           {"variable":"StartPlaylist","value":""}]},                           
                     {"type":"http-rest",			
                        "command":"{\"verb\":\"post\",\"call\":\"http://$MyKODIIp:$MyKODIPort/jsonrpc?request=\", \"message\":{\"jsonrpc\":\"2.0\",\"id\":\"Restart-musicplay\",\"method\":\"Player.Open\", \"params\": {\"item\": {\"playlistid\": 0,\"position\":$Listindex}}}}",
                        "queryresult":"$",
                        "evalwrite":[{"variable":"StartPlaylist","value":""},
                           {"variable":"MYRESULT","value":"DYNAMIK  (\"$Result\")"}]
                        }
                     ]
               }     
         }
         }
      } 
   }
}
